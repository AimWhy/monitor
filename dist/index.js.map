{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../src/common/constant.ts","../src/utils/is.ts","../src/utils/global.ts","../src/utils/logger.ts","../src/utils/helpers.ts","../src/utils/browser.ts","../src/utils/exception.ts","../src/utils/queue.ts","../src/core/breadcrumb.ts","../src/wx-mini/constant.ts","../src/core/errorId.ts","../src/common/config.ts","../src/types/options.ts","../src/core/transportData.ts","../src/utils/Severity.ts","../src/wx-mini/utils.ts","../src/core/external.ts","../src/utils/httpStatus.ts","../src/core/transformData.ts","../src/core/options.ts","../src/Vue/helper.ts","../src/Vue/index.ts","../src/browser/handleEvents.ts","../src/common/subscribe.ts","../src/browser/replace.ts","../src/browser/load.ts","../src/React/index.ts","../src/common/initOpitons.ts","../src/wx-mini/handleWxEvents.ts","../src/wx-mini/replace.ts","../src/wx-mini/load.ts","../src/wx-mini/index.ts","../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export type voidFun = () => void\n/**\n * 上报错误类型\n */\nexport enum ERRORTYPES {\n  UNKNOWN = 'UNKNOWN',\n  UNKNOWN_FUNCTION = 'UNKNOWN_FUNCTION',\n  JAVASCRIPT_ERROR = 'JAVASCRIPT_ERROR',\n  LOG_ERROR = 'LOG_ERROR',\n  FETCH_ERROR = 'HTTP_ERROR',\n  VUE_ERROR = 'VUE_ERROR',\n  REACT_ERROR = 'REACT_ERROR',\n  RESOURCE_ERROR = 'RESOURCE_ERROR',\n  PROMISE_ERROR = 'PROMISE_ERROR',\n  ROUTE_ERROR = 'ROUTE_ERROR'\n}\n\nexport enum WxAppEvents {\n  AppOnLaunch = 'AppOnLaunch',\n  AppOnShow = 'AppOnShow',\n  AppOnHide = 'AppOnHide',\n  AppOnError = 'AppOnError',\n  AppOnPageNotFound = 'AppOnPageNotFound',\n  AppOnUnhandledRejection = 'AppOnUnhandledRejection'\n}\n\nexport enum WxPageEvents {\n  PageOnShow = 'PageOnShow',\n  PageOnHide = 'PageOnHide',\n  PageOnShareAppMessage = 'PageOnShareAppMessage',\n  PageOnShareTimeline = 'PageOnShareTimeline',\n  PageOnTabItemTap = 'PageOnTabItemTap'\n}\n\nexport enum WxRouteEvents {\n  SwitchTab = 'switchTab',\n  ReLaunch = 'reLaunch',\n  RedirectTo = 'redirectTo',\n  NavigateTo = 'navigateTo',\n  NavigateBack = 'navigateBack',\n  RouteFail = 'routeFail'\n}\n\nexport type WxEvents = WxAppEvents | WxPageEvents | WxRouteEvents\n\nexport const CompositeEvents = {\n  ...WxAppEvents,\n  ...WxPageEvents,\n  ...ERRORTYPES\n}\n\nexport type CompositeEvents = typeof CompositeEvents\n\n/**\n * 用户行为栈事件类型\n */\nexport enum BREADCRUMBTYPES {\n  ROUTE = 'Route',\n  CLICK = 'UI.Click',\n  CONSOLE = 'Console',\n  XHR = 'Xhr',\n  FETCH = 'Fetch',\n  UNHANDLEDREJECTION = 'Unhandledrejection',\n  VUE = 'Vue',\n  REACT = 'React',\n  RESOURCE = 'Resource',\n  CODE_ERROR = 'Code Error',\n\n  CUSTOMER = 'Customer',\n  // wx life cycle\n  APP_ON_SHOW = 'App On Show',\n  APP_ON_LAUNCH = 'App On Launch',\n  APP_ON_HIDE = 'App On Hide',\n  PAGE_ON_SHOW = 'Page On Show',\n  PAGE_ON_HIDE = 'Page On Hide',\n  PAGE_ON_SHARE_APP_MESSAGE = 'Page On Share App Message',\n  PAGE_ON_SHARE_TIMELINE = 'Page On Share Timeline',\n  PAGE_ON_TAB_ITEM_TAP = 'Page On Tab Item Tap',\n\n  // wx BaseEvent\n  TAP = 'UI.Tap',\n  TOUCHMOVE = 'UI.Touchmove'\n}\n\n/**\n * 用户行为整合类型\n */\nexport enum BREADCRUMBCATEGORYS {\n  HTTP = 'http',\n  USER = 'user',\n  DEBUG = 'debug',\n  EXCEPTION = 'exception',\n  LIFECYCLE = 'lifecycle'\n}\n/**\n * 重写的事件类型\n */\nexport enum EVENTTYPES {\n  XHR = 'xhr',\n  FETCH = 'fetch',\n  CONSOLE = 'console',\n  DOM = 'dom',\n  HISTORY = 'history',\n  ERROR = 'error',\n  HASHCHANGE = 'hashchange',\n  UNHANDLEDREJECTION = 'unhandledrejection',\n  MITO = 'mito',\n  VUE = 'Vue',\n  // for miniprogram\n  MINI_ROUTE = 'miniRoute'\n}\n\nexport enum HTTPTYPE {\n  XHR = 'xhr',\n  FETCH = 'fetch'\n}\n\nexport enum HTTP_CODE {\n  BAD_REQUEST = 400,\n  UNAUTHORIZED = 401,\n  INTERNAL_EXCEPTION = 500\n}\n\nexport const ERROR_TYPE_RE = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/\nconst globalVar = {\n  isLogAddBreadcrumb: true,\n  crossOriginThreshold: 1000\n}\nexport { globalVar }\n","export const nativeToString = Object.prototype.toString\nfunction isType(type: string) {\n  return function (value: any): boolean {\n    return nativeToString.call(value) === `[object ${type}]`\n  }\n}\n\n/**\n * 检测变量类型\n * @param type\n */\nexport const variableTypeDetection = {\n  isNumber: isType('Number'),\n  isString: isType('String'),\n  isBoolean: isType('Boolean'),\n  isNull: isType('Null'),\n  isUndefined: isType('Undefined'),\n  isSymbol: isType('Symbol'),\n  isFunction: isType('Function'),\n  isObject: isType('Object'),\n  isArray: isType('Array'),\n  isProcess: isType('process'),\n  isWindow: isType('Window')\n}\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {../link isError}.\n *\n * ../param wat A value to be checked.\n * ../returns A boolean representing the result.\n */\nexport function isError(wat: any): boolean {\n  switch (nativeToString.call(wat)) {\n    case '[object Error]':\n      return true\n    case '[object Exception]':\n      return true\n    case '[object DOMException]':\n      return true\n    default:\n      return isInstanceOf(wat, Error)\n  }\n}\n\n/**\n * 检查是否是空对象\n * ../param obj 待检测的对象\n */\nexport function isEmptyObject(obj: Object): boolean {\n  return variableTypeDetection.isObject(obj) && Object.keys(obj).length === 0\n}\n\nexport function isEmpty(wat: any): boolean {\n  return (variableTypeDetection.isString(wat) && wat.trim() === '') || wat === undefined || wat === null\n}\n\n/**\n * Checks whether given value has a then function.\n * ../param wat A value to be checked.\n */\n// export function isThenable(wat: any): boolean {\n//   // tslint:disable:no-unsafe-any\n//   return Boolean(wat && wat.then && typeof wat.then === 'function')\n//   // tslint:enable:no-unsafe-any\n// }\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {../link isInstanceOf}.\n *\n * ../param wat A value to be checked.\n * ../param base A constructor to be used in a check.\n * ../returns A boolean representing the result.\n */\nexport function isInstanceOf(wat: any, base: any): boolean {\n  try {\n    // tslint:disable-next-line:no-unsafe-any\n    return wat instanceof base\n  } catch (_e) {\n    return false\n  }\n}\n\nexport function isExistProperty(obj: Object, key: string | number | symbol): boolean {\n  return obj.hasOwnProperty(key)\n}\n","import { EVENTTYPES, WxEvents } from '../common/constant'\nimport { TransportData } from '../core/transportData'\nimport { Breadcrumb } from '../core/breadcrumb'\nimport { Logger } from './logger'\nimport { Options } from '../core/options'\nimport { variableTypeDetection } from './is'\n\n// MITO的全局变量\nexport interface MitoSupport {\n  logger: Logger\n  breadcrumb: Breadcrumb\n  transportData: TransportData\n  replaceFlag: { [key in EVENTTYPES]?: boolean }\n  record?: any[]\n  options?: Options\n}\n\ninterface MITOGlobal {\n  console?: Console\n  __MITO__?: MitoSupport\n}\n\nexport const isNodeEnv = variableTypeDetection.isProcess(typeof process !== 'undefined' ? process : 0)\n\nexport const isWxMiniEnv =\n  variableTypeDetection.isObject(typeof wx !== 'undefined' ? wx : 0) && variableTypeDetection.isFunction(typeof App !== 'undefined' ? App : 0)\n\nexport const isBrowserEnv = variableTypeDetection.isWindow(typeof window !== 'undefined' ? window : 0)\n/**\n * 获取全局变量\n *\n * ../returns Global scope object\n */\nexport function getGlobal<T>() {\n  if (isBrowserEnv) return (window as unknown) as MITOGlobal & T\n  if (isWxMiniEnv) return (wx as unknown) as MITOGlobal & T\n  if (isNodeEnv) return (process as unknown) as MITOGlobal & T\n}\n\nconst _global = getGlobal<Window & WechatMiniprogram.Wx>()\nconst _support = getGlobalMitoSupport()\n\nexport { _global, _support }\n\n_support.replaceFlag = _support.replaceFlag || {}\nconst replaceFlag = _support.replaceFlag\nexport function setFlag(replaceType: EVENTTYPES | WxEvents, isSet: boolean): void {\n  if (replaceFlag[replaceType]) return\n  replaceFlag[replaceType] = isSet\n}\n\nexport function getFlag(replaceType: EVENTTYPES | WxEvents): boolean {\n  return replaceFlag[replaceType] ? true : false\n}\n\n/**\n * 获取全部变量__MITO__的引用地址\n *\n * ../returns global variable of MITO\n */\nexport function getGlobalMitoSupport(): MitoSupport {\n  _global.__MITO__ = _global.__MITO__ || ({} as MitoSupport)\n  return _global.__MITO__\n}\n\nexport function supportsHistory(): boolean {\n  // NOTE: in Chrome App environment, touching history.pushState, *even inside\n  //       a try/catch block*, will cause Chrome to output an error to console.error\n  // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n  const chrome = (_global as any).chrome\n  // tslint:disable-next-line:no-unsafe-any\n  const isChromePackagedApp = chrome && chrome.app && chrome.app.runtime\n  const hasHistoryApi = 'history' in _global && !!_global.history.pushState && !!_global.history.replaceState\n\n  return !isChromePackagedApp && hasHistoryApi\n}\n","import { _global, _support } from './global'\nconst PREFIX = 'MITO Logger'\n\nexport class Logger {\n  private enabled = false\n  private _console: Console = {} as Console\n  constructor() {\n    if (_global.console) {\n      const logType = ['log', 'debug', 'info', 'warn', 'error', 'assert']\n      logType.forEach((level) => {\n        if (!(level in _global.console)) return\n        this._console[level] = _global.console[level]\n      })\n    }\n  }\n  disable(): void {\n    this.enabled = false\n  }\n\n  bindOptions(debug: boolean): void {\n    this.enabled = debug ? true : false\n  }\n\n  enable(): void {\n    this.enabled = true\n  }\n\n  getEnableStatus() {\n    return this.enabled\n  }\n\n  log(...args: any[]): void {\n    if (!this.enabled) {\n      return\n    }\n    this._console.log(`${PREFIX}[Log]:`, ...args)\n  }\n  warn(...args: any[]): void {\n    if (!this.enabled) {\n      return\n    }\n    this._console.warn(`${PREFIX}[Warn]:`, ...args)\n  }\n  error(...args: any[]): void {\n    if (!this.enabled) {\n      return\n    }\n    this._console.error(`${PREFIX}[Error]:`, ...args)\n  }\n}\nconst logger = _support.logger || (_support.logger = new Logger())\nexport { logger }\n","import { IAnyObject, IntegrationError } from '../types/common'\nimport { voidFun, globalVar, HTTP_CODE, ERRORTYPES } from '../common/constant'\nimport { logger } from './logger'\nimport { nativeToString, variableTypeDetection } from './is'\n\nexport function getLocationHref(): string {\n  if (typeof document === 'undefined' || document.location == null) return ''\n  return document.location.href\n}\n\n// 用到所有事件名称\ntype TotalEventName = keyof GlobalEventHandlersEventMap | keyof XMLHttpRequestEventTargetEventMap | keyof WindowEventMap\n\n/**\n * 添加事件监听器\n *\n * ../export\n * ../param {{ addEventListener: Function }} target\n * ../param {keyof TotalEventName} eventName\n * ../param {Function} handler\n * ../param {(boolean | Object)} opitons\n * ../returns\n */\nexport function on(target: { addEventListener: Function }, eventName: TotalEventName, handler: Function, opitons: boolean | unknown = false): void {\n  target.addEventListener(eventName, handler, opitons)\n}\n\n/**\n *\n * 重写对象上面的某个属性\n * ../param source 需要被重写的对象\n * ../param name 需要被重写对象的key\n * ../param replacement 以原有的函数作为参数，执行并重写原有函数\n * ../returns void\n */\nexport function replaceOld(source: IAnyObject, name: string, replacement: (...args: any[]) => any, isForced = false): void {\n  if (name in source || isForced) {\n    const original = source[name]\n    const wrapped = replacement(original)\n    if (typeof wrapped === 'function') {\n      source[name] = wrapped\n    }\n  }\n}\n\n/**\n * 用&分割对象，返回a=1&b=2\n * ../param obj 需要拼接的对象\n */\n// export function splitObjToQuery(obj: Record<string, unknown>): string {\n//   return Object.entries(obj).reduce((result, [key, value], index) => {\n//     if (index !== 0) {\n//       result += '&'\n//     }\n//     result += `${key}=${value}`\n//     return result\n//   }, '')\n// }\n\nexport const defaultFunctionName = '<anonymous>'\n/**\n * 需要获取函数名，匿名则返回<anonymous>\n * ../param {unknown} fn 需要获取函数名的函数本体\n * ../returns 返回传入的函数的函数名\n */\nexport function getFunctionName(fn: unknown): string {\n  if (!fn || typeof fn !== 'function') {\n    return defaultFunctionName\n  }\n  return fn.name || defaultFunctionName\n}\n\n// 函数防抖\n/**\n *\n * ../param fn 需要防抖的函数\n * ../param delay 防抖的时间间隔\n * ../param isImmediate 是否需要立即执行，默认为false，第一次是不执行的\n * ../returns 返回一个包含防抖功能的函数\n */\n// export const debounce = (fn: voidFun, delay: number, isImmediate = false): voidFun => {\n//   let timer = null\n//   return function (...args: any) {\n//     if (isImmediate) {\n//       fn.apply(this, args)\n//       isImmediate = false\n//       return\n//     }\n//     clearTimeout(timer)\n//     timer = setTimeout(() => {\n//       fn.apply(this, args)\n//     }, delay)\n//   }\n// }\n\n// 函数节流\n/**\n *\n * ../param fn 需要节流的函数\n * ../param delay 节流的时间间隔\n * ../returns 返回一个包含节流功能的函数\n */\nexport const throttle = (fn: Function, delay: number): Function => {\n  let canRun = true\n  return function (...args: any) {\n    if (!canRun) return\n    fn.apply(this, args)\n    canRun = false\n    setTimeout(() => {\n      canRun = true\n    }, delay)\n  }\n}\n\n/**\n * 获取当前的时间戳\n * ../returns 返回当前时间戳\n */\nexport function getTimestamp(): number {\n  return Date.now()\n}\n\nexport function typeofAny(target: any, type: string): boolean {\n  return typeof target === type\n}\n\nexport function toStringAny(target: any, type: string): boolean {\n  return nativeToString.call(target) === type\n}\n\nexport function validateOption(target: any, targetName: string, expectType: string): boolean {\n  if (typeofAny(target, expectType)) return true\n  typeof target !== 'undefined' && logger.error(`${targetName}期望传入${expectType}类型，目前是${typeof target}类型`)\n  return false\n}\n\nexport function toStringValidateOption(target: any, targetName: string, expectType: string): boolean {\n  if (toStringAny(target, expectType)) return true\n  typeof target !== 'undefined' && logger.error(`${targetName}期望传入${expectType}类型，目前是${nativeToString.call(target)}类型`)\n  return false\n}\n\nexport function slientConsoleScope(callback: Function) {\n  globalVar.isLogAddBreadcrumb = false\n  callback()\n  globalVar.isLogAddBreadcrumb = true\n}\n\nexport function generateUUID(): string {\n  let d = new Date().getTime()\n  const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (d + Math.random() * 16) % 16 | 0\n    d = Math.floor(d / 16)\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16)\n  })\n  return uuid\n}\n\nexport function unknownToString(target: unknown): string {\n  if (variableTypeDetection.isString(target)) {\n    return target as string\n  }\n  return JSON.stringify(target)\n}\n\nexport function getBigVersion(version: string) {\n  return Number(version.split('.')[0])\n}\n\nexport function isHttpFail(code: number) {\n  return code === 0 || code === HTTP_CODE.BAD_REQUEST || code > HTTP_CODE.UNAUTHORIZED\n}\n\n/**\n * 给url添加query\n * @param url\n * @param query\n */\nexport function setUrlQuery(url: string, query: object) {\n  const queryArr = []\n  Object.keys(query).forEach((k) => {\n    queryArr.push(`${k}=${query[k]}`)\n  })\n  if (url.indexOf('?') !== -1) {\n    url = `${url}&${queryArr.join('&')}`\n  } else {\n    url = `${url}?${queryArr.join('&')}`\n  }\n  return url\n}\n/**\n * 解析字符串错误信息，返回message、name、stacks\n * @param str error string\n */\nexport function parseErrorString(str: string): IntegrationError {\n  const splitLine: string[] = str.split('\\n')\n  if (splitLine.length < 2) return null\n  if (splitLine[0].indexOf('MiniProgramError') !== -1) {\n    splitLine.splice(0, 1)\n  }\n  const message = splitLine.splice(0, 1)[0]\n  const name = splitLine.splice(0, 1)[0].split(':')[0]\n  const stacks = []\n  splitLine.forEach((errorLine: string) => {\n    const regexpGetFun = /at\\s+([\\S]+)\\s+\\(/ // 获取 [ 函数名 ]\n    const regexGetFile = /\\(([^)]+)\\)/ // 获取 [ 有括号的文件 , 没括号的文件 ]\n    const regexGetFileNoParenthese = /\\s+at\\s+(\\S+)/ // 获取 [ 有括号的文件 , 没括号的文件 ]\n\n    const funcExec = regexpGetFun.exec(errorLine)\n    let fileURLExec = regexGetFile.exec(errorLine)\n    if (!fileURLExec) {\n      // 假如为空尝试解析无括号的URL\n      fileURLExec = regexGetFileNoParenthese.exec(errorLine)\n    }\n\n    const funcNameMatch = Array.isArray(funcExec) && funcExec.length > 0 ? funcExec[1].trim() : ''\n    const fileURLMatch = Array.isArray(fileURLExec) && fileURLExec.length > 0 ? fileURLExec[1] : ''\n    const lineInfo = fileURLMatch.split(':')\n    stacks.push({\n      args: [], // 请求参数\n      func: funcNameMatch || ERRORTYPES.UNKNOWN_FUNCTION, // 前端分解后的报错\n      column: Number(lineInfo.pop()), // 前端分解后的列\n      line: Number(lineInfo.pop()), // 前端分解后的行\n      url: lineInfo.join(':') // 前端分解后的URL\n    })\n  })\n  return {\n    message,\n    name,\n    stacks\n  }\n}\n","import { EVENTTYPES, ERRORTYPES, WxAppEvents, WxPageEvents } from '../common/constant'\nimport { getLocationHref, getTimestamp } from './helpers'\nimport { setFlag } from './global'\nimport { ReportDataType, InitOptions } from '../types/index'\nimport { Severity } from './Severity'\n\n/**\n * 返回包含id、class、innerTextde字符串的标签\n * @param target html节点\n */\nexport function htmlElementAsString(target: HTMLElement): string {\n  const tagName = target.tagName.toLowerCase()\n  if (tagName === 'body') {\n    return null\n  }\n  let classNames = target.classList.value\n  classNames = classNames !== '' ? ` class=\"${classNames}\"` : ''\n  const id = target.id ? ` id=\"${target.id}\"` : ''\n  const innerText = target.innerText\n  return `<${tagName}${id}${classNames !== '' ? classNames : ''}>${innerText}</${tagName}>`\n}\n\n/**\n * 将地址字符串转换成对象\n * @returns 返回一个对象\n */\nexport function parseUrlToObj(\n  url: string\n): {\n  host?: string\n  path?: string\n  protocol?: string\n  relative?: string\n} {\n  if (!url) {\n    return {}\n  }\n\n  const match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/)\n\n  if (!match) {\n    return {}\n  }\n\n  const query = match[6] || ''\n  const fragment = match[8] || ''\n  return {\n    host: match[4],\n    path: match[5],\n    protocol: match[2],\n    relative: match[5] + query + fragment // everything minus origin\n  }\n}\n\nexport function setSilentFlag(opitons: InitOptions = {}): void {\n  setFlag(EVENTTYPES.XHR, !!opitons.silentXhr)\n  setFlag(EVENTTYPES.FETCH, !!opitons.silentFetch)\n  setFlag(EVENTTYPES.CONSOLE, !!opitons.silentConsole)\n  setFlag(EVENTTYPES.DOM, !!opitons.silentDom)\n  setFlag(EVENTTYPES.HISTORY, !!opitons.silentHistory)\n  setFlag(EVENTTYPES.ERROR, !!opitons.silentError)\n  setFlag(EVENTTYPES.HASHCHANGE, !!opitons.silentHashchange)\n  setFlag(EVENTTYPES.UNHANDLEDREJECTION, !!opitons.silentUnhandledrejection)\n  setFlag(EVENTTYPES.VUE, !!opitons.silentVue)\n  // wx App\n  setFlag(WxAppEvents.AppOnError, !!opitons.silentWxOnError)\n  setFlag(WxAppEvents.AppOnUnhandledRejection, !!opitons.silentUnhandledrejection)\n  setFlag(WxAppEvents.AppOnPageNotFound, !!opitons.silentWxOnPageNotFound)\n  // wx Page\n  setFlag(WxPageEvents.PageOnShareAppMessage, !!opitons.silentWxOnShareAppMessage)\n  // mini Route\n  setFlag(EVENTTYPES.MINI_ROUTE, !!opitons.silentMiniRoute)\n}\n\n/**\n * 解析error的stack，并返回args、column、line、func、url:\n * @param ex\n * @param level\n */\nexport function extractErrorStack(ex: any, level: Severity): ReportDataType {\n  const normal = {\n    time: getTimestamp(),\n    url: getLocationHref(),\n    name: ex.name,\n    level,\n    message: ex.message\n  }\n  if (typeof ex.stack === 'undefined' || !ex.stack) {\n    return normal\n  }\n\n  const chrome = /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,\n    gecko = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i,\n    winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,\n    // Used to additionally parse URL/line/column from eval frames\n    geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,\n    chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,\n    lines = ex.stack.split('\\n'),\n    stack = []\n\n  let submatch, parts, element\n  // reference = /^(.*) is undefined$/.exec(ex.message)\n\n  for (let i = 0, j = lines.length; i < j; ++i) {\n    if ((parts = chrome.exec(lines[i]))) {\n      const isNative = parts[2] && parts[2].indexOf('native') === 0 // start of line\n      const isEval = parts[2] && parts[2].indexOf('eval') === 0 // start of line\n      if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1] // url\n        parts[3] = submatch[2] // line\n        parts[4] = submatch[3] // column\n      }\n      element = {\n        url: !isNative ? parts[2] : null,\n        func: parts[1] || ERRORTYPES.UNKNOWN_FUNCTION,\n        args: isNative ? [parts[2]] : [],\n        line: parts[3] ? +parts[3] : null,\n        column: parts[4] ? +parts[4] : null\n      }\n    } else if ((parts = winjs.exec(lines[i]))) {\n      element = {\n        url: parts[2],\n        func: parts[1] || ERRORTYPES.UNKNOWN_FUNCTION,\n        args: [],\n        line: +parts[3],\n        column: parts[4] ? +parts[4] : null\n      }\n    } else if ((parts = gecko.exec(lines[i]))) {\n      const isEval = parts[3] && parts[3].indexOf(' > eval') > -1\n      if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n        // throw out eval line/coluqqqqqqqqqqqqqqqqqqqqqqqqqqqqmn and use top-most line number\n        parts[3] = submatch[1]\n        parts[4] = submatch[2]\n        parts[5] = null // no column when eval\n      } else if (i === 0 && !parts[5] && typeof ex.columnNumber !== 'undefined') {\n        // FireFox uses this awesome columnNumber property for its top frame\n        // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n        // so adding 1\n        // NOTE: this hack doesn't work if top-most frame is eval\n        stack[0].column = ex.columnNumber + 1\n      }\n      element = {\n        url: parts[3],\n        func: parts[1] || ERRORTYPES.UNKNOWN_FUNCTION,\n        args: parts[2] ? parts[2].split(',') : [],\n        line: parts[4] ? +parts[4] : null,\n        column: parts[5] ? +parts[5] : null\n      }\n    } else {\n      continue\n    }\n\n    if (!element.func && element.line) {\n      element.func = ERRORTYPES.UNKNOWN_FUNCTION\n    }\n\n    stack.push(element)\n  }\n\n  if (!stack.length) {\n    return null\n  }\n  return {\n    ...normal,\n    stack: stack\n  }\n}\n","import { voidFun } from '../common/constant'\n\n/**\n * 原生try函数\n * ../param fn try中执行的函数体\n * ../param errorFn 报错时执行的函数体，将err传入\n */\nexport function nativeTryCatch(fn: voidFun, errorFn?: (err: any) => void): void {\n  try {\n    fn()\n  } catch (err) {\n    console.log('err', err)\n    if (errorFn) {\n      errorFn(err)\n    }\n  }\n}\n","import { voidFun } from '../common/constant'\nimport { _global } from './global'\nexport class Queue {\n  private micro: Promise<void>\n  private stack: any[] = []\n  private isFlushing = false\n  constructor() {\n    if (!('Promise' in _global)) return\n    this.micro = Promise.resolve()\n  }\n  addFn(fn: voidFun): void {\n    if (typeof fn !== 'function') return\n    if (!('Promise' in _global)) {\n      fn()\n      return\n    }\n    this.stack.push(fn)\n    if (!this.isFlushing) {\n      this.isFlushing = true\n      this.micro.then(() => this.flushStack())\n    }\n  }\n  clear() {\n    this.stack = []\n  }\n  getStack() {\n    return this.stack\n  }\n  flushStack(): void {\n    const temp = this.stack.slice(0)\n    this.stack.length = 0\n    this.isFlushing = false\n    for (let i = 0; i < temp.length; i++) {\n      temp[i]()\n    }\n  }\n}\n","import { BREADCRUMBTYPES, BREADCRUMBCATEGORYS } from '../common/constant'\nimport { logger, validateOption, getTimestamp, slientConsoleScope } from '../utils/index'\nimport { _support } from '../utils/global'\nimport { BreadcrumbPushData } from '../types/breadcrumb'\nimport { InitOptions } from '../types/options'\n\nexport class Breadcrumb {\n  private maxBreadcrumbs = 10\n  private beforePushBreadcrumb: unknown = null\n  private stack: BreadcrumbPushData[] = []\n  constructor() {}\n  /**\n   * 添加用户行为栈\n   *\n   * ../param {BreadcrumbPushData} data\n   * ../memberof Breadcrumb\n   */\n  push(data: BreadcrumbPushData): void {\n    if (typeof this.beforePushBreadcrumb === 'function') {\n      let result: BreadcrumbPushData = null\n      // 如果用户输入console，并且logger是打开的会造成无限递归，\n      // 应该加入一个开关，执行这个函数前，把监听console的行为关掉\n      const beforePushBreadcrumb = this.beforePushBreadcrumb\n      slientConsoleScope(() => {\n        result = beforePushBreadcrumb(this, data)\n      })\n      if (!result) return\n      this.immediatePush(result)\n      return\n    }\n    this.immediatePush(data)\n  }\n  immediatePush(data: BreadcrumbPushData): void {\n    data.time = getTimestamp()\n    if (this.stack.length >= this.maxBreadcrumbs) {\n      this.shift()\n    }\n    this.stack.push(data)\n    logger.log(this.stack)\n  }\n  shift(): boolean {\n    return this.stack.shift() !== undefined\n  }\n  clear(): void {\n    this.stack = []\n  }\n  getStack(): BreadcrumbPushData[] {\n    return this.stack\n  }\n  getCategory(type: BREADCRUMBTYPES) {\n    switch (type) {\n      case BREADCRUMBTYPES.XHR:\n      case BREADCRUMBTYPES.FETCH:\n        return BREADCRUMBCATEGORYS.HTTP\n      case BREADCRUMBTYPES.CLICK:\n      case BREADCRUMBTYPES.ROUTE:\n      case BREADCRUMBTYPES.TAP:\n      case BREADCRUMBTYPES.TOUCHMOVE:\n        return BREADCRUMBCATEGORYS.USER\n      case BREADCRUMBTYPES.CUSTOMER:\n      case BREADCRUMBTYPES.CONSOLE:\n        return BREADCRUMBCATEGORYS.DEBUG\n      case BREADCRUMBTYPES.APP_ON_LAUNCH:\n      case BREADCRUMBTYPES.APP_ON_SHOW:\n      case BREADCRUMBTYPES.APP_ON_HIDE:\n      case BREADCRUMBTYPES.PAGE_ON_SHOW:\n      case BREADCRUMBTYPES.PAGE_ON_HIDE:\n      case BREADCRUMBTYPES.PAGE_ON_SHARE_APP_MESSAGE:\n      case BREADCRUMBTYPES.PAGE_ON_SHARE_TIMELINE:\n      case BREADCRUMBTYPES.PAGE_ON_TAB_ITEM_TAP:\n        return BREADCRUMBCATEGORYS.LIFECYCLE\n      case BREADCRUMBTYPES.UNHANDLEDREJECTION:\n      case BREADCRUMBTYPES.CODE_ERROR:\n      case BREADCRUMBTYPES.RESOURCE:\n      case BREADCRUMBTYPES.VUE:\n      case BREADCRUMBTYPES.REACT:\n      default:\n        return BREADCRUMBCATEGORYS.EXCEPTION\n    }\n  }\n  bindOptions(options: InitOptions = {}): void {\n    const { maxBreadcrumbs, beforePushBreadcrumb } = options\n    validateOption(maxBreadcrumbs, 'maxBreadcrumbs', 'number') && (this.maxBreadcrumbs = maxBreadcrumbs)\n    validateOption(beforePushBreadcrumb, 'beforePushBreadcrumb', 'function') && (this.beforePushBreadcrumb = beforePushBreadcrumb)\n  }\n}\nconst breadcrumb = _support.breadcrumb || (_support.breadcrumb = new Breadcrumb())\nexport { breadcrumb }\n","export enum ELinstenerTypes {\n  Touchmove = 'touchmove',\n  Tap = 'tap'\n}\nexport function getAppId() {\n  return wx.getAccountInfoSync().miniProgram.appId\n}\n","import { isWxMiniEnv, variableTypeDetection } from '@/utils'\nimport { getAppId } from '@/wx-mini/constant'\nimport { ERRORTYPES, EVENTTYPES } from '../common/constant'\nimport { ReportDataType } from '../types/transportData'\nconst allErrorNumber: unknown = {}\n/**\n * generate error unique Id\n * @param data\n */\nexport default function createErrorId(data: ReportDataType): number | null {\n  let id: any\n  const originUrl = getRealPageOrigin(data.url)\n  switch (data.type) {\n    case ERRORTYPES.FETCH_ERROR:\n      id = data.type + data.request.method + data.response.status + getRealPath(data.request.url) + originUrl\n      break\n    case ERRORTYPES.JAVASCRIPT_ERROR:\n    case ERRORTYPES.VUE_ERROR:\n    case ERRORTYPES.REACT_ERROR:\n      id = data.type + data.name + data.message + originUrl\n      break\n    case ERRORTYPES.LOG_ERROR:\n      id = data.customTag + data.type + data.name + originUrl\n      break\n    case ERRORTYPES.PROMISE_ERROR:\n      id = generatePromiseErrorId(data, originUrl)\n      break\n    default:\n      id = data.type + data.message + originUrl\n      break\n  }\n  id = hashCode(id)\n  if (allErrorNumber[id] > 1) {\n    return null\n  }\n  if (typeof allErrorNumber[id] === 'number') {\n    allErrorNumber[id]++\n  } else {\n    allErrorNumber[id] = 1\n  }\n\n  return id\n}\n/**\n * 如果是UNHANDLEDREJECTION，则按照项目主域名来生成\n * 如果是其他的，按照当前页面来生成\n * @param data\n * @param originUrl\n */\nfunction generatePromiseErrorId(data: ReportDataType, originUrl: string) {\n  const locationUrl = getRealPath(data.url)\n  if (data.name === EVENTTYPES.UNHANDLEDREJECTION) {\n    return data.type + objectOrder(data.message) + originUrl\n  }\n  return data.type + data.name + objectOrder(data.message) + locationUrl\n}\n\n/**\n * sort object keys\n * ../param reason promise.reject\n */\nfunction objectOrder(reason: any) {\n  const sortFn = (obj: any) => {\n    return Object.keys(obj)\n      .sort()\n      .reduce((total, key) => {\n        if (variableTypeDetection.isObject(obj[key])) {\n          total[key] = sortFn(obj[key])\n        } else {\n          total[key] = obj[key]\n        }\n        return total\n      }, {})\n  }\n  try {\n    if (/\\{.*\\}/.test(reason)) {\n      let obj = JSON.parse(reason)\n      obj = sortFn(obj)\n      return JSON.stringify(obj)\n    }\n  } catch (error) {\n    return reason\n  }\n}\n\n/**\n * http://.../project?id=1#a => http://.../project\n * http://.../id/123=> http://.../id/{param}\n *\n * @param url\n */\nexport function getRealPath(url: string): string {\n  return url.replace(/[\\?#].*$/, '').replace(/\\/\\d+([\\/]*$)/, '{param}$1')\n}\n\n/**\n *\n * @param url\n */\nexport function getFlutterRealOrigin(url: string): string {\n  // for apple\n  return removeHashPath(getFlutterRealPath(url))\n}\n\n/**\n * 获取flutter的原始地址：每个用户的文件夹hash不同\n * @param url\n */\nexport function getFlutterRealPath(url: string): string {\n  // for apple\n  return url.replace(/(\\S+)(\\/Documents\\/)(\\S*)/, `$3`)\n}\n/**\n * http://a.b.com/#/project?id=1 => a.b.com\n * wx => appId\n * @param url\n */\nexport function getRealPageOrigin(url: string): string {\n  const fileStartReg = /^file:\\/\\//\n  if (fileStartReg.test(url)) {\n    return getFlutterRealOrigin(url)\n  }\n  if (isWxMiniEnv) {\n    return getAppId()\n  }\n  return getRealPath(removeHashPath(url).replace(/(\\S*)(\\/\\/)(\\S+)/, '$3'))\n}\n\nexport function removeHashPath(url: string): string {\n  return url.replace(/(\\S+)(\\/#\\/)(\\S*)/, `$1`)\n}\n\nfunction hashCode(str: string): number {\n  let hash = 0\n  if (str.length == 0) return hash\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i)\n    hash = (hash << 5) - hash + char\n    hash = hash & hash\n  }\n  return hash\n}\n","import { version, name } from '../../package.json'\nexport const SDK_NAME: string = name\nexport const SDK_VERSION: string = version\nexport const SERVER_URL = '//localhost:3000/api/error/upload'\n","import { Breadcrumb } from '../core/breadcrumb'\nimport { BreadcrumbPushData } from './breadcrumb'\nimport { ReportDataType } from './transportData'\ntype CANCEL = null | undefined | boolean\n\nexport type HttpMethod = 'GET' | 'POST' | 'PATCH' | 'PUT' | 'DELETE' | 'OPTIONS'\n\nexport enum EMethods {\n  Get = 'GET',\n  Post = 'POST',\n  Put = 'PUT',\n  Delete = 'DELETE'\n}\n\ninterface IRequestHeaderConfig {\n  url: HttpMethod\n  method: string\n}\n\ntype TSetRequestHeader = (key: string, value: string) => {}\nexport interface IBeforeAppAjaxSendConfig {\n  setRequestHeader: TSetRequestHeader\n}\nexport interface InitOptions extends SilentEventTypes, HooksTypes, WxSilentEventTypes {\n  /**\n   * dsn服务器地址\n   */\n  dsn?: string\n  /**\n   * 为true时，整个sdk将禁用\n   */\n  disabled?: boolean\n  /**\n   * 每个项目有一个唯一key\n   */\n  apikey?: string\n  /**\n   * 默认为关闭，为true是会打印一些信息：breadcrumb\n   */\n  debug?: boolean\n  /**\n   * 默认是关闭traceId，开启时，页面的所有请求都会生成一个uuid，放入请求头中\n   */\n  enableTraceId?: boolean\n  /**\n   * 如果开启了enableTraceId,也需要配置该配置项，includeHttpUrlTraceIdRegExp.test(xhr.url)为true时，才会在该请求头中添加traceId\n   * 由于考虑部分接口如果随便加上多余的请求头会造成跨域，所以这边用的是包含关系的正则\n   */\n  includeHttpUrlTraceIdRegExp?: RegExp\n  /**\n   * traceId放入请求头中的key，默认是Trace-Id\n   */\n  traceIdFieldName?: string\n  /**\n   * 默认为空，所有ajax都会被监听，不为空时，filterXhrUrlRegExp.test(xhr.url)为true时过滤\n   */\n  filterXhrUrlRegExp?: RegExp\n  /**\n   * 忽视某些错误不上传\n   */\n  // ignoreErrors?: Array<string | RegExp>\n  /**\n   * 默认20，最大100，超过100还是设置成100\n   */\n  maxBreadcrumbs?: number\n}\n\nexport interface HooksTypes {\n  /**\n   * 钩子函数，配置发送到服务端的xhr\n   * 可以对当前xhr实例做一些配置：xhr.setRequestHeader()、xhr.withCredentials\n   * 会在xhr.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8')、\n   * xhr.withCredentials = true,后面调用该函数\n   * ../param xhr XMLHttpRequest的实例\n   */\n  configReportXhr?(xhr: XMLHttpRequest): void\n  /**\n   * 钩子函数，在每次发送事件前会调用\n   *\n   * ../param event 有SDK生成的错误事件\n   * ../returns 如果返回 null | undefined | boolean 时，将忽略本次上传\n   */\n  beforeDataReport?(event: ReportDataType): PromiseLike<ReportDataType | null> | ReportDataType | CANCEL\n  /**\n   * 钩子函数，在每次添加用户行为事件前都会调用\n   *\n   * ../param breadcrumb 由SDK生成的breacrumb事件栈\n   * ../param hint 当次的生成的breadcrumb数据\n   * ../returns 如果返回 null | undefined | boolean 时，将忽略本次的push\n   */\n  beforePushBreadcrumb?(breadcrumb: Breadcrumb, hint: BreadcrumbPushData): BreadcrumbPushData | CANCEL\n  /**\n   * 在状态小于400并且不等于0的时候回调用当前hook\n   * ../param data 请求状态为200时返回的响应体\n   * ../returns 如果返回 null | undefined | boolean 时，将忽略本次的上传\n   */\n  // afterSuccessHttp?<T>(data: T): string | CANCEL\n  /**\n   * 钩子函数，拦截用户页面的ajax请求，并在ajax请求发送前执行该hook，可以对用户发送的ajax请求做xhr.setRequestHeader\n   * ../param config 当前请求的\n   */\n  beforeAppAjaxSend?(config: IRequestHeaderConfig, setRequestHeader: IBeforeAppAjaxSendConfig): void\n\n  /**\n   * 钩子函数：在页面拦截的ajax后，收集当次数据并传入该函数后并调用\n   */\n  // afterAppAjaxClose?(data: ReportDataType): ReportDataType\n\n  /**\n   * 钩子函数，在beforeDataReport后面调用，在整合上报数据和本身SDK信息数据前调用，当前函数执行完后立即将数据错误信息上报至服务端\n   * trackerId表示用户唯一键（可以理解成userId），需要trackerId的意义可以区分每个错误影响的用户数量\n   */\n  backTrackerId?(): string | number\n}\n\nexport interface SilentEventTypes {\n  /**\n   * 静默监控Xhr事件\n   */\n  silentXhr?: boolean\n  /**\n   * 静默监控fetch事件\n   */\n  silentFetch?: boolean\n  /**\n   * 静默监控console事件\n   */\n  silentConsole?: boolean\n  /**\n   * 静默监控Dom事件\n   */\n  silentDom?: boolean\n  /**\n   * 静默监控history事件\n   */\n  silentHistory?: boolean\n  /**\n   * 静默监控error事件\n   */\n  silentError?: boolean\n  /**\n   * 静默监控unhandledrejection事件\n   */\n  silentUnhandledrejection?: boolean\n  /**\n   * 静默监控hashchange事件\n   */\n  silentHashchange?: boolean\n  /**\n   * 静默监控Vue.warn函数\n   */\n  silentVue?: boolean\n}\n\nexport interface WxSilentEventTypes {\n  /**\n   * 静默监控AppOnError\n   */\n  silentWxOnError?: boolean\n  /**\n   * 静默监控AppOnUnhandledRejection\n   */\n  silentWxOnUnhandledRejection?: boolean\n  /**\n   * 静默监控AppOnPageNotFound\n   */\n  silentWxOnPageNotFound?: boolean\n  /**\n   * 静默监控PageOnShareAppMessage\n   */\n  silentWxOnShareAppMessage?: boolean\n  /**\n   * 静默监控小程序路由\n   */\n  silentMiniRoute?: boolean\n}\n","import { _support, validateOption, logger, isBrowserEnv, isWxMiniEnv, variableTypeDetection } from '../utils/index'\nimport { Queue } from '../utils/index'\nimport createErrorId from './errorId'\nimport { SDK_NAME, SDK_VERSION, SERVER_URL } from '../common/config'\nimport { breadcrumb } from './breadcrumb'\nimport { EMethods, InitOptions } from '../types/options'\nimport { AuthInfo, TransportDataType, ReportDataType } from '../types/transportData'\n\n/**\n * 用来传输数据类，包含img标签、xhr请求\n * 功能：支持img请求和xhr请求、可以断点续存（保存在localstorage），\n * 待开发：目前不需要断点续存，因为接口不是很多，只有错误时才触发，如果接口太多可以考虑合并接口、\n *\n * ../class Transport\n */\nexport class TransportData {\n  // static img = new Image()\n  queue: Queue\n  private beforeDataReport: unknown = null\n  private backTrackerId: InitOptions | unknown = null\n  private configReportXhr: unknown = null\n  private apikey = ''\n  constructor(public url: string) {\n    this.queue = new Queue()\n  }\n  // imgRequest(data: Record<string, unknown>): void {\n  //   TransportData.img.src = `${this.url}?${splitObjToQuery(data)}`\n  // }\n  getRecord(): any[] {\n    const recordData = _support.record\n    if (recordData && variableTypeDetection.isArray(recordData) && recordData.length > 2) {\n      return recordData\n    }\n    return []\n  }\n  beforePost(data: ReportDataType) {\n    if (typeof this.beforeDataReport === 'function') {\n      data = this.beforeDataReport(data)\n      // todo  ? 是否需要加个判断 如果格式符合标准就不上传\n      if (!data) return false\n    }\n    const errorId = createErrorId(data)\n    if (!errorId) return false\n    data.errorId = errorId\n    return JSON.stringify(this.getTransportData(data))\n  }\n  xhrPost(data: ReportDataType): void {\n    const result = this.beforePost(data)\n    if (!result) return\n    const requestFun = (): void => {\n      const xhr = new XMLHttpRequest()\n      xhr.open(EMethods.Post, this.url)\n      xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8')\n      xhr.withCredentials = true\n      if (typeof this.configReportXhr === 'function') {\n        this.configReportXhr(xhr)\n      }\n      xhr.send(result)\n    }\n    this.queue.addFn(requestFun)\n  }\n  wxPost(data: ReportDataType) {\n    const result = this.beforePost(data)\n    if (!result) return\n    const requestFun = (): void => {\n      wx.request({\n        method: 'POST',\n        header: {\n          'Content-Type': 'application/json;charset=UTF-8'\n        },\n        url: this.url,\n        data: result\n      })\n    }\n    this.queue.addFn(requestFun)\n  }\n  getAuthInfo(): AuthInfo {\n    const trackerId = this.getTrackerId()\n    return {\n      trackerId: String(trackerId),\n      sdkVersion: SDK_VERSION,\n      sdkName: SDK_NAME,\n      apikey: this.apikey\n    }\n  }\n  getTrackerId(): string | number {\n    if (typeof this.backTrackerId === 'function') {\n      const trackerId = this.backTrackerId()\n      if (typeof trackerId === 'string' || typeof trackerId === 'number') {\n        return trackerId\n      } else {\n        logger.error(`trackerId:${trackerId} 期望 string 或 number 类型，但是传入 ${typeof trackerId}`)\n      }\n    }\n    return ''\n  }\n  getTransportData(data: ReportDataType): TransportDataType {\n    return {\n      authInfo: this.getAuthInfo(),\n      breadcrumb: breadcrumb.getStack(),\n      data,\n      record: this.getRecord()\n    }\n  }\n  isSdkTransportUrl(targetUrl: string): boolean {\n    return targetUrl.indexOf(this.url) !== -1\n  }\n  bindOptions(options: InitOptions = {}): void {\n    const { dsn, beforeDataReport, apikey, configReportXhr, backTrackerId } = options\n    validateOption(apikey, 'apikey', 'string') && (this.apikey = apikey)\n    validateOption(dsn, 'dsn', 'string') && (this.url = dsn)\n    validateOption(beforeDataReport, 'beforeDataReport', 'function') && (this.beforeDataReport = beforeDataReport)\n    validateOption(configReportXhr, 'configReportXhr', 'function') && (this.configReportXhr = configReportXhr)\n    validateOption(backTrackerId, 'backTrackerId', 'function') && (this.backTrackerId = backTrackerId)\n  }\n  send(data: ReportDataType): void {\n    if (isBrowserEnv) {\n      return this.xhrPost(data)\n    }\n    if (isWxMiniEnv) {\n      return this.wxPost(data)\n    }\n  }\n}\nconst transportData = _support.transportData || (_support.transportData = new TransportData(SERVER_URL))\nexport { transportData }\n","/** 等级程度枚举 */\nexport enum Severity {\n  Else = 'else',\n  Error = 'error',\n  Warning = 'warning',\n  Info = 'info',\n  Debug = 'debug',\n  /** 上报的错误等级 */\n  Low = 'low',\n  Normal = 'normal',\n  High = 'high',\n  Critical = 'critical'\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace Severity {\n  /**\n   * Converts a string-based level into a {@link Severity}.\n   *\n   * @param level string representation of Severity\n   * @returns Severity\n   */\n  export function fromString(level: string): Severity {\n    switch (level) {\n      case 'debug':\n        return Severity.Debug\n      case 'info':\n      case 'log':\n      case 'assert':\n        return Severity.Info\n      case 'warn':\n      case 'warning':\n        return Severity.Warning\n      case Severity.Low:\n      case Severity.Normal:\n      case Severity.High:\n      case Severity.Critical:\n      case 'error':\n        return Severity.Error\n      default:\n        return Severity.Else\n    }\n  }\n}\n","import { setUrlQuery, variableTypeDetection } from '@/utils'\n\n/**\n * 获取wx当前route的方法\n * 必须是在进入Page或Component构造函数内部才能够获取到currentPages\n * 否则都是在注册Page和Component时执行的代码，此时url默认返回'App'\n */\nexport function getCurrentRoute() {\n  if (!variableTypeDetection.isFunction(getCurrentPages)) {\n    return ''\n  }\n  const pages = getCurrentPages() // 在App里调用该方法，页面还没有生成，长度为0\n  if (!pages.length) {\n    return 'App'\n  }\n  const currentPage = pages.pop()\n  return setUrlQuery(currentPage.route, currentPage.options)\n}\n\nexport function getNavigateBackTargetUrl(delta: number | undefined) {\n  if (!variableTypeDetection.isFunction(getCurrentPages)) {\n    return ''\n  }\n  const pages = getCurrentPages() // 在App里调用该方法，页面还没有生成，长度为0\n  if (!pages.length) {\n    return 'App'\n  }\n  delta = delta || 1\n  const toPage = pages[pages.length - delta]\n  return setUrlQuery(toPage.route, toPage.options)\n}\n\n/**\n * 返回包含id、data字符串的标签\n * @param e wx BaseEvent\n */\nexport function targetAsString(e: WechatMiniprogram.BaseEvent): string {\n  const id = e.currentTarget?.id ? ` id=\"${e.currentTarget?.id}\"` : ''\n  const dataSets = Object.keys(e.currentTarget.dataset).map((key) => {\n    return `data-${key}=${e.currentTarget.dataset[key]}`\n  })\n  return `<element ${id} ${dataSets.join(' ')}/>`\n}\n","import { ERRORTYPES, BREADCRUMBTYPES } from '../common/constant'\nimport { isError, extractErrorStack, getLocationHref, getTimestamp, unknownToString, isWxMiniEnv } from '../utils/index'\nimport { transportData } from './transportData'\nimport { breadcrumb } from './breadcrumb'\nimport { Severity } from '../utils/Severity'\nimport { getCurrentRoute } from '@/wx-mini/utils'\n\ninterface LogTypes {\n  message: string\n  tag?: string\n  level?: Severity\n  ex?: any\n}\n\n/**\n * 自定义上报事件\n */\nexport function log({ message = 'emptyMsg', tag = '', level = Severity.Critical, ex = '' }: LogTypes): void {\n  let errorInfo = {}\n  if (isError(ex)) {\n    errorInfo = extractErrorStack(ex, level)\n  }\n  const error = {\n    type: ERRORTYPES.LOG_ERROR,\n    level,\n    message: unknownToString(message),\n    name: 'MITO.log',\n    customTag: unknownToString(tag),\n    time: getTimestamp(),\n    url: isWxMiniEnv ? getCurrentRoute() : getLocationHref(),\n    ...errorInfo\n  }\n  breadcrumb.push({\n    type: BREADCRUMBTYPES.CUSTOMER,\n    category: breadcrumb.getCategory(BREADCRUMBTYPES.CUSTOMER),\n    data: message,\n    level: Severity.fromString(level.toString())\n  })\n  transportData.send(error)\n}\n","/** The status of an Span. */\nexport enum SpanStatus {\n  /** The operation completed successfully. */\n  Ok = 'ok',\n  /** Deadline expired before operation could complete. */\n  DeadlineExceeded = 'deadline_exceeded',\n  /** 401 Unauthorized (actually does mean unauthenticated according to RFC 7235) */\n  Unauthenticated = 'unauthenticated',\n  /** 403 Forbidden */\n  PermissionDenied = 'permission_denied',\n  /** 404 Not Found. Some requested entity (file or directory) was not found. */\n  NotFound = 'not_found',\n  /** 429 Too Many Requests */\n  ResourceExhausted = 'resource_exhausted',\n  /** Client specified an invalid argument. 4xx. */\n  InvalidArgument = 'invalid_argument',\n  /** 501 Not Implemented */\n  Unimplemented = 'unimplemented',\n  /** 503 Service Unavailable */\n  Unavailable = 'unavailable',\n  /** Other/generic 5xx. */\n  InternalError = 'internal_error',\n  /** Unknown. Any non-standard HTTP status code. */\n  UnknownError = 'unknown_error',\n  /** The operation was cancelled (typically by the user). */\n  Cancelled = 'cancelled',\n  /** Already exists (409) */\n  AlreadyExists = 'already_exists',\n  /** Operation was rejected because the system is not in a state required for the operation's */\n  FailedPrecondition = 'failed_precondition',\n  /** The operation was aborted, typically due to a concurrency issue. */\n  Aborted = 'aborted',\n  /** Operation was attempted past the valid range. */\n  OutOfRange = 'out_of_range',\n  /** Unrecoverable data loss or corruption */\n  DataLoss = 'data_loss'\n}\n\nexport function fromHttpStatus(httpStatus: number): SpanStatus {\n  if (httpStatus < 400) {\n    return SpanStatus.Ok\n  }\n\n  if (httpStatus >= 400 && httpStatus < 500) {\n    switch (httpStatus) {\n      case 401:\n        return SpanStatus.Unauthenticated\n      case 403:\n        return SpanStatus.PermissionDenied\n      case 404:\n        return SpanStatus.NotFound\n      case 409:\n        return SpanStatus.AlreadyExists\n      case 413:\n        return SpanStatus.FailedPrecondition\n      case 429:\n        return SpanStatus.ResourceExhausted\n      default:\n        return SpanStatus.InvalidArgument\n    }\n  }\n\n  if (httpStatus >= 500 && httpStatus < 600) {\n    switch (httpStatus) {\n      case 501:\n        return SpanStatus.Unimplemented\n      case 503:\n        return SpanStatus.Unavailable\n      case 504:\n        return SpanStatus.DeadlineExceeded\n      default:\n        return SpanStatus.InternalError\n    }\n  }\n\n  return SpanStatus.UnknownError\n}\n","import { ERRORTYPES } from '../common/constant'\nimport { getLocationHref, getTimestamp } from '../utils/index'\nimport { ResourceErrorTarget } from '../browser/handleEvents'\nimport { ReportDataType } from '../types/transportData'\nimport { globalVar } from '../common/constant'\nimport { Severity } from '../utils/Severity'\nimport { fromHttpStatus } from '../utils/httpStatus'\nimport { MITOHttp } from '../types/common'\n\nexport function httpTransform(data: MITOHttp): ReportDataType {\n  let message = ''\n  const { elapsedTime, time, method, traceId, type, status } = data\n  if (status === 0) {\n    message = elapsedTime <= globalVar.crossOriginThreshold ? 'http请求失败，失败原因：跨域限制或域名不存在' : 'http请求失败，失败原因：超时'\n  } else {\n    message = fromHttpStatus(status)\n  }\n  return {\n    type: ERRORTYPES.FETCH_ERROR,\n    url: getLocationHref(),\n    time,\n    elapsedTime,\n    level: Severity.Low,\n    message,\n    name: `${type}--${method}`,\n    request: {\n      httpType: type,\n      traceId,\n      method,\n      url: data.url,\n      data: data.reqData || ''\n    },\n    response: {\n      status,\n      data: data.responseText\n    }\n  }\n}\n\nconst resourceMap = {\n  img: '图片',\n  script: 'js脚本'\n}\n\nexport function resourceTransform(target: ResourceErrorTarget): ReportDataType {\n  return {\n    type: ERRORTYPES.RESOURCE_ERROR,\n    url: getLocationHref(),\n    message: '资源地址: ' + (target.src.slice(0, 100) || target.href.slice(0, 100)),\n    level: Severity.Low,\n    time: getTimestamp(),\n    name: `${resourceMap[target.localName] || target.localName}加载失败`\n  }\n}\n","import { InitOptions } from '../types/options'\nimport { generateUUID, toStringValidateOption, validateOption, _support } from '../utils/index'\n\nexport class Options {\n  beforeAppAjaxSend: Function\n  afterAppAjaxClose: Function\n  enableTraceId: Boolean\n  filterXhrUrlRegExp: RegExp\n  includeHttpUrlTraceIdRegExp: RegExp\n  traceIdFieldName = 'Trace-Id'\n  constructor() {\n    this.enableTraceId = false\n  }\n  bindOptions(options: InitOptions = {}): void {\n    const { beforeAppAjaxSend, enableTraceId, filterXhrUrlRegExp, traceIdFieldName, includeHttpUrlTraceIdRegExp } = options\n    validateOption(beforeAppAjaxSend, 'beforeAppAjaxSend', 'function') && (this.beforeAppAjaxSend = beforeAppAjaxSend)\n    validateOption(enableTraceId, 'enableTraceId', 'boolean') && (this.enableTraceId = enableTraceId)\n    validateOption(traceIdFieldName, 'traceIdFieldName', 'string') && (this.traceIdFieldName = traceIdFieldName)\n    toStringValidateOption(filterXhrUrlRegExp, 'filterXhrUrlRegExp', '[object RegExp]') && (this.filterXhrUrlRegExp = filterXhrUrlRegExp)\n    toStringValidateOption(includeHttpUrlTraceIdRegExp, 'includeHttpUrlTraceIdRegExp', '[object RegExp]') &&\n      (this.includeHttpUrlTraceIdRegExp = includeHttpUrlTraceIdRegExp)\n  }\n}\n\nconst options = _support.options || (_support.options = new Options())\n\nexport function setTraceId(httpUrl: string, callback: (headerFieldName: string, traceId: string) => void) {\n  const { includeHttpUrlTraceIdRegExp, enableTraceId } = options\n  if (enableTraceId && includeHttpUrlTraceIdRegExp && includeHttpUrlTraceIdRegExp.test(httpUrl)) {\n    const traceId = generateUUID()\n    callback(options.traceIdFieldName, traceId)\n  }\n}\n\nexport { options }\n","import { getBigVersion, getLocationHref, getTimestamp, variableTypeDetection } from '../utils/index'\nimport { ERRORTYPES, BREADCRUMBTYPES } from '../common/constant'\nimport { ViewModel, VueInstance } from './types'\nimport { breadcrumb, transportData } from '../core/index'\nimport { ReportDataType } from '../types/transportData'\nimport { Severity } from '../utils/Severity'\n\nexport function handleVueError(err: Error, vm: ViewModel, info: string, level: Severity, breadcrumbLevel: Severity, Vue: VueInstance): void {\n  const version = Vue?.version\n  let data: ReportDataType = {\n    type: ERRORTYPES.VUE_ERROR,\n    message: `${err.message}(${info})`,\n    level,\n    url: getLocationHref(),\n    name: err.name,\n    stack: err.stack || [],\n    time: getTimestamp()\n  }\n  if (variableTypeDetection.isString(version)) {\n    console.log('getBigVersion', getBigVersion(version))\n    switch (getBigVersion(version)) {\n      case 2:\n        data = { ...data, ...vue2VmHandler(vm) }\n        break\n      case 3:\n        data = { ...data, ...vue3VmHandler(vm) }\n        break\n      default:\n        return\n        break\n    }\n  }\n  breadcrumb.push({\n    type: BREADCRUMBTYPES.VUE,\n    category: breadcrumb.getCategory(BREADCRUMBTYPES.VUE),\n    data,\n    level: breadcrumbLevel\n  })\n  transportData.send(data)\n}\nfunction vue2VmHandler(vm: ViewModel) {\n  let componentName = ''\n  if (vm.$root === vm) {\n    componentName = 'root'\n  } else {\n    const name = vm._isVue ? (vm.$options && vm.$options.name) || (vm.$options && vm.$options._componentTag) : vm.name\n    componentName =\n      (name ? 'component <' + name + '>' : 'anonymous component') +\n      (vm._isVue && vm.$options && vm.$options.__file ? ' at ' + (vm.$options && vm.$options.__file) : '')\n  }\n  return {\n    componentName,\n    propsData: vm.$options && vm.$options.propsData\n  }\n}\nfunction vue3VmHandler(vm: ViewModel) {\n  let componentName = ''\n  if (vm.$root === vm) {\n    componentName = 'root'\n  } else {\n    console.log(vm.$options)\n    const name = vm.$options && vm.$options.name\n    componentName = name ? 'component <' + name + '>' : 'anonymous component'\n  }\n  return {\n    componentName,\n    propsData: vm.$props\n  }\n}\n","import { getFlag, setFlag, slientConsoleScope } from '../utils/index'\nimport { EVENTTYPES } from '../common/constant'\nimport { VueInstance, ViewModel } from './types'\nimport { handleVueError } from './helper'\nimport { Severity } from '../utils/Severity'\n\nconst hasConsole = typeof console !== 'undefined'\n\nexport const MitoVue = {\n  install(Vue: VueInstance): void {\n    if (getFlag(EVENTTYPES.VUE) || !Vue || !Vue.config) return\n    setFlag(EVENTTYPES.VUE, true)\n    // vue 提供 warnHandler errorHandler报错信息\n    Vue.config.errorHandler = function (err: Error, vm: ViewModel, info: string): void {\n      handleVueError.apply(null, [err, vm, info, Severity.Normal, Severity.Error, Vue])\n      if (hasConsole && !Vue.config.silent) {\n        slientConsoleScope(() => {\n          console.error('Error in ' + info + ': \"' + err.toString() + '\"', vm)\n          console.error(err)\n        })\n      }\n    }\n  }\n}\n","import { BREADCRUMBTYPES, ERRORTYPES, globalVar, ERROR_TYPE_RE, HTTP_CODE } from '../common/constant'\nimport { resourceTransform, httpTransform } from '../core/transformData'\nimport { transportData } from '../core/transportData'\nimport { breadcrumb } from '../core/breadcrumb'\nimport { getLocationHref, getTimestamp, isError, parseUrlToObj, extractErrorStack, unknownToString } from '../utils/index'\nimport { ReportDataType } from '../types/transportData'\nimport { Severity } from '../utils/Severity'\nimport { Replace } from '../types/replace'\nimport { MITOHttp } from '../types/common'\n\nexport interface ResourceErrorTarget {\n  src?: string\n  href?: string\n  localName?: string\n}\n\nconst HandleEvents = {\n  /**\n   * 处理xhr、fetch回调\n   */\n  handleHttp(data: MITOHttp, type: BREADCRUMBTYPES): void {\n    const isError = data.status === 0 || data.status === HTTP_CODE.BAD_REQUEST || data.status > HTTP_CODE.UNAUTHORIZED\n    const result = httpTransform(data)\n    breadcrumb.push({\n      type,\n      category: breadcrumb.getCategory(type),\n      data: result,\n      level: Severity.Info\n    })\n    if (isError) {\n      breadcrumb.push({\n        type,\n        category: breadcrumb.getCategory(BREADCRUMBTYPES.CODE_ERROR),\n        data: result,\n        level: Severity.Error\n      })\n      transportData.send(result)\n    }\n  },\n  /**\n   * 处理window的error的监听回到\n   */\n  handleError(errorEvent: ErrorEvent): void {\n    const target = errorEvent.target as ResourceErrorTarget\n    if (target.localName) {\n      // 资源加载错误 提取有用数据\n      const data = resourceTransform(errorEvent.target as ResourceErrorTarget)\n      // push到行为栈\n      breadcrumb.push({\n        type: BREADCRUMBTYPES.RESOURCE,\n        category: breadcrumb.getCategory(BREADCRUMBTYPES.RESOURCE),\n        data,\n        level: Severity.Error\n      })\n      return transportData.send(data)\n    }\n    // code error\n    const { message, filename, lineno, colno, error } = errorEvent\n    let result: ReportDataType\n    if (error && isError(error)) {\n      result = extractErrorStack(error, Severity.Normal)\n    }\n    // 处理SyntaxError，stack没有lineno、colno\n    result || (result = HandleEvents.handleNotErrorInstance(message, filename, lineno, colno))\n    result.type = ERRORTYPES.JAVASCRIPT_ERROR\n    breadcrumb.push({\n      type: BREADCRUMBTYPES.CODE_ERROR,\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.CODE_ERROR),\n      data: result,\n      level: Severity.Error\n    })\n    transportData.send(result)\n  },\n  handleNotErrorInstance(message: string, filename: string, lineno: number, colno: number) {\n    let name: string | ERRORTYPES = ERRORTYPES.UNKNOWN\n    const url = filename || getLocationHref()\n    let msg = message\n    const matches = message.match(ERROR_TYPE_RE)\n    if (matches[1]) {\n      name = matches[1]\n      msg = matches[2]\n    }\n    const element = {\n      url,\n      func: ERRORTYPES.UNKNOWN_FUNCTION,\n      args: ERRORTYPES.UNKNOWN,\n      line: lineno,\n      col: colno\n    }\n    return {\n      url,\n      name,\n      message: msg,\n      level: Severity.Normal,\n      time: getTimestamp(),\n      stack: [element]\n    }\n  },\n  handleHistory(data: Replace.IRouter): void {\n    const { from, to } = data\n    const { relative: parsedFrom } = parseUrlToObj(from)\n    const { relative: parsedTo } = parseUrlToObj(to)\n    breadcrumb.push({\n      type: BREADCRUMBTYPES.ROUTE,\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.ROUTE),\n      data: {\n        from: parsedFrom ? parsedFrom : '/',\n        to: parsedTo ? parsedTo : '/'\n      },\n      level: Severity.Info\n    })\n  },\n  handleHashchange(data: HashChangeEvent): void {\n    const { oldURL, newURL } = data\n    const { relative: from } = parseUrlToObj(oldURL)\n    const { relative: to } = parseUrlToObj(newURL)\n    breadcrumb.push({\n      type: BREADCRUMBTYPES.ROUTE,\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.ROUTE),\n      data: {\n        from,\n        to\n      },\n      level: Severity.Info\n    })\n  },\n  handleUnhandleRejection(ev: PromiseRejectionEvent): void {\n    let data: ReportDataType = {\n      type: ERRORTYPES.PROMISE_ERROR,\n      message: unknownToString(ev.reason),\n      url: getLocationHref(),\n      name: ev.type,\n      time: getTimestamp(),\n      level: Severity.Low\n    }\n    if (isError(ev.reason)) {\n      data = {\n        ...data,\n        ...extractErrorStack(ev.reason, Severity.Low)\n      }\n    }\n    breadcrumb.push({\n      type: BREADCRUMBTYPES.UNHANDLEDREJECTION,\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.UNHANDLEDREJECTION),\n      data: data,\n      level: Severity.Error\n    })\n    transportData.send(data)\n  },\n  handleConsole(data: Replace.TriggerConsole): void {\n    if (globalVar.isLogAddBreadcrumb) {\n      breadcrumb.push({\n        type: BREADCRUMBTYPES.CONSOLE,\n        category: breadcrumb.getCategory(BREADCRUMBTYPES.CONSOLE),\n        data,\n        level: Severity.fromString(data.level)\n      })\n    }\n  }\n}\n\nexport { HandleEvents }\n","import { EVENTTYPES, WxEvents } from './constant'\nimport { getFlag, getFunctionName, logger, nativeTryCatch, setFlag } from '../utils'\nexport interface ReplaceHandler {\n  type: EVENTTYPES | WxEvents\n  callback: ReplaceCallback\n}\n\ntype ReplaceCallback = (data: any) => void\n\nconst handlers: { [key in EVENTTYPES]?: ReplaceCallback[] } = {}\n\nexport function subscribeEvent(handler: ReplaceHandler): void {\n  if (!handler) {\n    return\n  }\n  if (getFlag(handler.type)) return\n  setFlag(handler.type, true)\n  handlers[handler.type] = handlers[handler.type] || []\n  handlers[handler.type].push(handler.callback)\n}\n\nexport function triggerHandlers(type: EVENTTYPES | WxEvents, data: any): void {\n  if (!type || !handlers[type]) return\n  handlers[type].forEach((callback) => {\n    nativeTryCatch(\n      () => {\n        callback(data)\n      },\n      (e: Error) => {\n        logger.error(`重写事件triggerHandlers的回调函数发生错误\\nType:${type}\\nName: ${getFunctionName(callback)}\\nError: ${e}`)\n      }\n    )\n  })\n}\n","import { _global, on, getTimestamp, replaceOld, throttle, getLocationHref, isExistProperty, variableTypeDetection, supportsHistory } from '../utils/index'\nimport { voidFun, EVENTTYPES, HTTPTYPE, HTTP_CODE } from '../common/constant'\nimport { transportData } from '../core/transportData'\nimport { options, setTraceId } from '../core/options'\nimport { EMethods } from '../types/options'\nimport { ReplaceHandler, subscribeEvent, triggerHandlers } from '../common/subscribe'\nimport { MITOHttp, MITOXMLHttpRequest } from '../types/common'\n\nconst clickThrottle = throttle(triggerHandlers, 600)\n\nfunction isFilterHttpUrl(url: string) {\n  return options.filterXhrUrlRegExp && options.filterXhrUrlRegExp.test(url)\n}\n\nfunction replace(type: EVENTTYPES) {\n  switch (type) {\n    case EVENTTYPES.XHR:\n      xhrReplace()\n      break\n    case EVENTTYPES.FETCH:\n      fetchReplace()\n      break\n    case EVENTTYPES.ERROR:\n      listenError()\n      break\n    case EVENTTYPES.CONSOLE:\n      consoleReplace()\n      break\n    case EVENTTYPES.HISTORY:\n      historyReplace()\n      break\n    case EVENTTYPES.UNHANDLEDREJECTION:\n      unhandledrejectionReplace()\n      break\n    case EVENTTYPES.DOM:\n      domReplace()\n      break\n    case EVENTTYPES.HASHCHANGE:\n      listenHashchange()\n      break\n    default:\n      break\n  }\n}\n\nexport function addReplaceHandler(handler: ReplaceHandler) {\n  subscribeEvent(handler)\n  replace(handler.type as EVENTTYPES)\n}\n\nfunction xhrReplace(): void {\n  if (!('XMLHttpRequest' in _global)) {\n    return\n  }\n  const originalXhrProto = XMLHttpRequest.prototype\n  replaceOld(\n    originalXhrProto,\n    'open',\n    (originalOpen: voidFun): voidFun => {\n      return function (this: MITOXMLHttpRequest, ...args: any[]): void {\n        this.mito_xhr = {\n          method: variableTypeDetection.isString(args[0]) ? args[0].toUpperCase() : args[0],\n          url: args[1],\n          sTime: getTimestamp(),\n          type: HTTPTYPE.XHR\n        }\n        // this.ontimeout = function () {\n        //   console.log('超时', this)\n        // }\n        // this.timeout = 10000\n        // on(this, EVENTTYPES.ERROR, function (this: MITOXMLHttpRequest) {\n        //   if (this.mito_xhr.isSdkUrl) return\n        //   this.mito_xhr.isError = true\n        //   const eTime = getTimestamp()\n        //   this.mito_xhr.time = eTime\n        //   this.mito_xhr.status = this.status\n        //   this.mito_xhr.elapsedTime = eTime - this.mito_xhr.sTime\n        //   triggerHandlers(EVENTTYPES.XHR, this.mito_xhr)\n        //   logger.error(`接口错误,接口信息:${JSON.stringify(this.mito_xhr)}`)\n        // })\n        originalOpen.apply(this, args)\n      }\n    }\n  )\n  replaceOld(\n    originalXhrProto,\n    'send',\n    (originalSend: voidFun): voidFun => {\n      return function (this: MITOXMLHttpRequest, ...args: any[]): void {\n        const { method, url } = this.mito_xhr\n        setTraceId(url, (headerFieldName: string, traceId: string) => {\n          this.mito_xhr.traceId = traceId\n          this.setRequestHeader(headerFieldName, traceId)\n        })\n        options.beforeAppAjaxSend && options.beforeAppAjaxSend({ method, url }, this)\n        on(this, 'loadend', function (this: MITOXMLHttpRequest) {\n          if ((method === EMethods.Post && transportData.isSdkTransportUrl(url)) || isFilterHttpUrl(url)) return\n          const { responseType, response, status } = this\n          this.mito_xhr.reqData = args[0]\n          const eTime = getTimestamp()\n          this.mito_xhr.time = eTime\n          this.mito_xhr.status = status\n          if (['', 'json', 'text'].indexOf(responseType) !== -1) {\n            this.mito_xhr.responseText = typeof response === 'object' ? JSON.stringify(response) : response\n          }\n          this.mito_xhr.elapsedTime = eTime - this.mito_xhr.sTime\n          triggerHandlers(EVENTTYPES.XHR, this.mito_xhr)\n        })\n        originalSend.apply(this, args)\n      }\n    }\n  )\n}\n\nfunction fetchReplace(): void {\n  if (!('fetch' in _global)) {\n    return\n  }\n  replaceOld(_global, EVENTTYPES.FETCH, (originalFetch: voidFun) => {\n    return function (url: string, config: Partial<Request> = {}): void {\n      const sTime = getTimestamp()\n      const method = (config && config.method) || 'GET'\n      let handlerData: MITOHttp = {\n        type: HTTPTYPE.FETCH,\n        method,\n        reqData: config && config.body,\n        url\n      }\n      const headers = new Headers(config.headers || {})\n      Object.assign(headers, {\n        setRequestHeader: headers.set\n      })\n      setTraceId(url, (headerFieldName: string, traceId: string) => {\n        handlerData.traceId = traceId\n        headers.set(headerFieldName, traceId)\n      })\n      options.beforeAppAjaxSend && options.beforeAppAjaxSend({ method, url }, headers)\n      config = {\n        ...config,\n        headers\n      }\n\n      return originalFetch.apply(_global, [url, config]).then(\n        (res: Response) => {\n          const tempRes = res.clone()\n          const eTime = getTimestamp()\n          handlerData = {\n            ...handlerData,\n            elapsedTime: eTime - sTime,\n            status: tempRes.status,\n            // statusText: tempRes.statusText,\n            time: eTime\n          }\n          tempRes.text().then((data) => {\n            if (method === EMethods.Post && transportData.isSdkTransportUrl(url)) return\n            if (isFilterHttpUrl(url)) return\n            handlerData.responseText = tempRes.status > HTTP_CODE.UNAUTHORIZED && data\n            triggerHandlers(EVENTTYPES.FETCH, handlerData)\n          })\n          return res\n        },\n        (err: Error) => {\n          const eTime = getTimestamp()\n          if (method === EMethods.Post && transportData.isSdkTransportUrl(url)) return\n          if (isFilterHttpUrl(url)) return\n          handlerData = {\n            ...handlerData,\n            elapsedTime: eTime - sTime,\n            status: 0,\n            // statusText: err.name + err.message,\n            time: eTime\n          }\n          triggerHandlers(EVENTTYPES.FETCH, handlerData)\n          throw err\n        }\n      )\n    }\n  })\n}\n\nfunction listenHashchange(): void {\n  if (!isExistProperty(_global, 'onpopstate')) {\n    on(_global, EVENTTYPES.HASHCHANGE, function (e: HashChangeEvent) {\n      triggerHandlers(EVENTTYPES.HASHCHANGE, e)\n    })\n  }\n}\n\nfunction listenError(): void {\n  on(\n    _global,\n    'error',\n    function (e: ErrorEvent) {\n      triggerHandlers(EVENTTYPES.ERROR, e)\n    },\n    true\n  )\n}\n\nfunction consoleReplace(): void {\n  if (!('console' in _global)) {\n    return\n  }\n  const logType = ['log', 'debug', 'info', 'warn', 'error', 'assert']\n  logType.forEach(function (level: string): void {\n    if (!(level in _global.console)) return\n    replaceOld(_global.console, level, function (originalConsole: () => any): Function {\n      return function (...args: any[]): void {\n        if (originalConsole) {\n          triggerHandlers(EVENTTYPES.CONSOLE, { args, level })\n          originalConsole.apply(_global.console, args)\n        }\n      }\n    })\n  })\n}\n// 上一次的路由\nlet lastHref: string\nlastHref = getLocationHref()\nfunction historyReplace(): void {\n  if (!supportsHistory()) return\n  const oldOnpopstate = _global.onpopstate\n  _global.onpopstate = function (this: WindowEventHandlers, ...args: any[]): any {\n    const to = getLocationHref()\n    const from = lastHref\n    triggerHandlers(EVENTTYPES.HISTORY, {\n      from,\n      to\n    })\n    oldOnpopstate && oldOnpopstate.apply(this, args)\n  }\n  function historyReplaceFn(originalHistoryFn: voidFun): voidFun {\n    return function (this: History, ...args: any[]): void {\n      const url = args.length > 2 ? args[2] : undefined\n      if (url) {\n        const from = lastHref\n        const to = String(url)\n        lastHref = to\n        triggerHandlers(EVENTTYPES.HISTORY, {\n          from,\n          to\n        })\n      }\n      return originalHistoryFn.apply(this, args)\n    }\n  }\n  replaceOld(_global.history, 'pushState', historyReplaceFn)\n  replaceOld(_global.history, 'replaceState', historyReplaceFn)\n}\n\nfunction unhandledrejectionReplace(): void {\n  on(_global, EVENTTYPES.UNHANDLEDREJECTION, function (ev: PromiseRejectionEvent) {\n    // ev.preventDefault() 阻止默认行为后，控制台就不会再报红色错误\n    triggerHandlers(EVENTTYPES.UNHANDLEDREJECTION, ev)\n  })\n}\n\nfunction domReplace(): void {\n  if (!('document' in _global)) return\n  on(\n    _global.document,\n    'click',\n    function () {\n      clickThrottle(EVENTTYPES.DOM, {\n        category: 'click',\n        data: this\n      })\n    },\n    true\n  )\n  // 暂时不需要keypress的重写\n  // on(\n  //   _global.document,\n  //   'keypress',\n  //   function (e: MITOElement) {\n  //     keypressThrottle('dom', {\n  //       category: 'keypress',\n  //       data: this\n  //     })\n  //   },\n  //   true\n  // )\n}\n","import { HandleEvents } from './handleEvents'\nimport { htmlElementAsString } from '../utils/index'\nimport { EVENTTYPES, BREADCRUMBTYPES } from '../common/constant'\nimport { Severity } from '../utils/Severity'\nimport { addReplaceHandler } from './replace'\nimport { breadcrumb } from '../core'\nexport function setupReplace(): void {\n  addReplaceHandler({\n    callback: (data) => {\n      HandleEvents.handleHttp(data, BREADCRUMBTYPES.XHR)\n    },\n    type: EVENTTYPES.XHR\n  })\n  addReplaceHandler({\n    callback: (data) => {\n      HandleEvents.handleHttp(data, BREADCRUMBTYPES.FETCH)\n    },\n    type: EVENTTYPES.FETCH\n  })\n  addReplaceHandler({\n    callback: (error) => {\n      HandleEvents.handleError(error)\n    },\n    type: EVENTTYPES.ERROR\n  })\n  addReplaceHandler({\n    callback: (data) => {\n      HandleEvents.handleConsole(data)\n    },\n    type: EVENTTYPES.CONSOLE\n  })\n  addReplaceHandler({\n    callback: (data) => {\n      HandleEvents.handleHistory(data)\n    },\n    type: EVENTTYPES.HISTORY\n  })\n\n  addReplaceHandler({\n    callback: (data) => {\n      HandleEvents.handleUnhandleRejection(data)\n    },\n    type: EVENTTYPES.UNHANDLEDREJECTION\n  })\n  addReplaceHandler({\n    callback: (data) => {\n      const htmlString = htmlElementAsString(data.data.activeElement as HTMLElement)\n      if (htmlString) {\n        breadcrumb.push({\n          type: BREADCRUMBTYPES.CLICK,\n          category: breadcrumb.getCategory(BREADCRUMBTYPES.CLICK),\n          data: htmlString,\n          level: Severity.Info\n        })\n      }\n    },\n    type: EVENTTYPES.DOM\n  })\n  addReplaceHandler({\n    callback: (e: HashChangeEvent) => {\n      HandleEvents.handleHashchange(e)\n    },\n    type: EVENTTYPES.HASHCHANGE\n  })\n}\n","import { BREADCRUMBTYPES, ERRORTYPES } from '../common/constant'\nimport { isError, extractErrorStack } from '../utils/index'\nimport { Severity } from '../utils/Severity'\nimport { breadcrumb, transportData } from '../core/index'\nimport { ReportDataType } from '../types/index'\n\n/**\n * 收集react ErrorBoundary中的错误对象\n * 需要用户手动在componentDidCatch中设置\n * @param ex ErrorBoundary中的componentDidCatch的一个参数error\n */\nexport function errorBoundaryReport(ex: any): void {\n  if (!isError(ex)) {\n    console.warn('传入的react error不是一个object Error')\n    return\n  }\n  const error = extractErrorStack(ex, Severity.Normal) as ReportDataType\n  error.type = ERRORTYPES.REACT_ERROR\n  breadcrumb.push({\n    type: BREADCRUMBTYPES.REACT,\n    category: breadcrumb.getCategory(BREADCRUMBTYPES.REACT),\n    data: `${error.name}: ${error.message}`,\n    level: Severity.fromString(error.level)\n  })\n  transportData.send(error)\n}\n","import { breadcrumb } from '../core/breadcrumb'\nimport { transportData } from '../core/transportData'\nimport { InitOptions } from '../types/options'\nimport { setSilentFlag } from '../utils/browser'\nimport { logger } from '../utils/logger'\nimport { options as coreOptions } from '../core/options'\n\nexport default function initOptions(options: InitOptions = {}) {\n  setSilentFlag(options)\n  breadcrumb.bindOptions(options)\n  logger.bindOptions(options.debug)\n  transportData.bindOptions(options)\n  coreOptions.bindOptions(options)\n}\n","import { BREADCRUMBTYPES, ERRORTYPES, HTTPTYPE } from '@/common/constant'\nimport { breadcrumb, httpTransform, transportData } from '../core'\nimport { ReportDataType } from '@/types'\nimport { WxLifeCycleBreadcrumb, WxOnShareAppMessageBreadcrumb, WxOnTabItemTapBreadcrumb } from '@/types/breadcrumb'\nimport { Replace } from '@/types/replace'\nimport { extractErrorStack, getTimestamp, isError, isHttpFail, setUrlQuery, parseErrorString, unknownToString } from '@/utils'\nimport { Severity } from '@/utils/Severity'\nimport { getCurrentRoute, targetAsString } from './utils'\nimport { HandleEvents } from '@/browser/handleEvents'\nimport { MITOHttp } from '@/types/common'\nimport { MiniRoute } from './types'\nimport { ELinstenerTypes } from './constant'\n\nconst HandleWxAppEvents = {\n  onLaunch(options: WechatMiniprogram.App.LaunchShowOption) {\n    const data: WxLifeCycleBreadcrumb = {\n      path: options.path,\n      query: options.query\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.APP_ON_LAUNCH),\n      type: BREADCRUMBTYPES.APP_ON_LAUNCH,\n      data,\n      level: Severity.Info\n    })\n  },\n  onShow(options: WechatMiniprogram.App.LaunchShowOption) {\n    const data: WxLifeCycleBreadcrumb = {\n      path: options.path,\n      query: options.query\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.APP_ON_SHOW),\n      type: BREADCRUMBTYPES.APP_ON_SHOW,\n      data,\n      level: Severity.Info\n    })\n  },\n  onHide() {\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.APP_ON_HIDE),\n      type: BREADCRUMBTYPES.APP_ON_HIDE,\n      data: null,\n      level: Severity.Info\n    })\n  },\n  onError(error: string) {\n    const parsedError = parseErrorString(error)\n    const data: ReportDataType = {\n      ...parsedError,\n      time: getTimestamp(),\n      level: Severity.Normal,\n      url: getCurrentRoute(),\n      type: ERRORTYPES.JAVASCRIPT_ERROR\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.CODE_ERROR),\n      type: BREADCRUMBTYPES.CODE_ERROR,\n      level: Severity.Error,\n      data\n    })\n    transportData.send(data)\n  },\n  onUnhandledRejection(ev: WechatMiniprogram.OnUnhandledRejectionCallbackResult) {\n    let data: ReportDataType = {\n      type: ERRORTYPES.PROMISE_ERROR,\n      message: unknownToString(ev.reason),\n      url: getCurrentRoute(),\n      name: 'unhandledrejection', // 小程序当初onUnhandledRejection回调中无type参数，故写死\n      time: getTimestamp(),\n      level: Severity.Low\n    }\n    if (isError(ev.reason)) {\n      data = {\n        ...data,\n        ...extractErrorStack(ev.reason, Severity.Low),\n        url: getCurrentRoute()\n      }\n    }\n    breadcrumb.push({\n      type: BREADCRUMBTYPES.UNHANDLEDREJECTION,\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.UNHANDLEDREJECTION),\n      data: data,\n      level: Severity.Error\n    })\n    transportData.send(data)\n  },\n  onPageNotFound(data: WechatMiniprogram.OnPageNotFoundCallbackResult) {\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.ROUTE),\n      type: BREADCRUMBTYPES.ROUTE,\n      data,\n      level: Severity.Error\n    })\n  }\n}\n\nconst HandleWxPageEvents = {\n  onShow() {\n    const page = getCurrentPages().pop()\n    const data: WxLifeCycleBreadcrumb = {\n      path: page.route,\n      query: page.options\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.PAGE_ON_SHOW),\n      type: BREADCRUMBTYPES.PAGE_ON_SHOW,\n      data,\n      level: Severity.Info\n    })\n  },\n  onHide() {\n    // console.log('page onHide')\n    const page = getCurrentPages().pop()\n    const data: WxLifeCycleBreadcrumb = {\n      path: page.route,\n      query: page.options\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.PAGE_ON_HIDE),\n      type: BREADCRUMBTYPES.PAGE_ON_HIDE,\n      data,\n      level: Severity.Info\n    })\n  },\n  onShareAppMessage(options: WechatMiniprogram.Page.IShareAppMessageOption) {\n    // console.log('page onShareAppMessage')\n    const page = getCurrentPages().pop()\n    const data: WxOnShareAppMessageBreadcrumb = {\n      path: page.route,\n      query: page.options,\n      options\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.PAGE_ON_SHARE_APP_MESSAGE),\n      type: BREADCRUMBTYPES.PAGE_ON_SHARE_APP_MESSAGE,\n      data,\n      level: Severity.Info\n    })\n  },\n  onShareTimeline() {\n    // console.log('page onShareTimeline')\n    const page = getCurrentPages().pop()\n    const data: WxLifeCycleBreadcrumb = {\n      path: page.route,\n      query: page.options\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.PAGE_ON_SHARE_TIMELINE),\n      type: BREADCRUMBTYPES.PAGE_ON_SHARE_TIMELINE,\n      data,\n      level: Severity.Info\n    })\n  },\n  onTabItemTap(options: WechatMiniprogram.Page.ITabItemTapOption) {\n    // console.log('page onTabItemTap')\n    const page = getCurrentPages().pop()\n    const data: WxOnTabItemTapBreadcrumb = {\n      path: page.route,\n      query: page.options,\n      options\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.PAGE_ON_TAB_ITEM_TAP),\n      type: BREADCRUMBTYPES.PAGE_ON_TAB_ITEM_TAP,\n      data,\n      level: Severity.Info\n    })\n  },\n  onAction(e: WechatMiniprogram.BaseEvent) {\n    let type = BREADCRUMBTYPES.TOUCHMOVE\n    if (e.type === ELinstenerTypes.Tap) {\n      type = BREADCRUMBTYPES.TAP\n    }\n    breadcrumb.push({\n      category: breadcrumb.getCategory(type),\n      type,\n      data: targetAsString(e),\n      level: Severity.Info\n    })\n  }\n}\n\nconst HandleWxConsoleEvents = {\n  console(data: Replace.TriggerConsole) {\n    HandleEvents.handleConsole(data)\n  }\n}\n\nconst HandleNetworkEvents = {\n  handleRequest(data: MITOHttp): void {\n    const result = httpTransform(data)\n    result.url = getCurrentRoute()\n    if (data.status === undefined) {\n      result.message = data.errMsg\n    }\n    const type = BREADCRUMBTYPES.XHR\n    breadcrumb.push({\n      type,\n      category: breadcrumb.getCategory(type),\n      data: result,\n      level: Severity.Info\n    })\n    if (isHttpFail(data.status)) {\n      breadcrumb.push({\n        type,\n        category: breadcrumb.getCategory(BREADCRUMBTYPES.CODE_ERROR),\n        data: result,\n        level: Severity.Error\n      })\n      transportData.send(result)\n    }\n  }\n}\n\nconst HandleWxEvents = {\n  handleRoute(data: MiniRoute) {\n    if (data.isFail) {\n      breadcrumb.push({\n        type: BREADCRUMBTYPES.ROUTE,\n        category: breadcrumb.getCategory(BREADCRUMBTYPES.CODE_ERROR),\n        data,\n        level: Severity.Error\n      })\n\n      const reportData = {\n        type: ERRORTYPES.ROUTE_ERROR,\n        message: data.message,\n        url: data.to,\n        name: 'MINI_' + ERRORTYPES.ROUTE_ERROR,\n        level: Severity.Error\n      }\n\n      return transportData.send(reportData)\n    }\n    breadcrumb.push({\n      type: BREADCRUMBTYPES.ROUTE,\n      category: breadcrumb.getCategory(BREADCRUMBTYPES.ROUTE),\n      data,\n      level: Severity.Info\n    })\n  }\n}\n\nexport { HandleWxAppEvents, HandleWxPageEvents, HandleWxConsoleEvents, HandleNetworkEvents, HandleWxEvents }\n","import { options as sdkOptions, setTraceId } from '../core/options'\nimport { ReplaceHandler, subscribeEvent, triggerHandlers } from '../common/subscribe'\nimport { getTimestamp, replaceOld, throttle } from '../utils/helpers'\nimport { HandleWxAppEvents, HandleWxPageEvents } from './handleWxEvents'\nimport { WxAppEvents, WxPageEvents, WxRouteEvents, WxEvents, HTTP_CODE, EVENTTYPES, HTTPTYPE, BREADCRUMBTYPES } from '../common/constant'\nimport { getFlag, setFlag, variableTypeDetection } from '@/utils'\nimport { MITOHttp } from '@/types/common'\nimport { transportData } from '@/core'\nimport { EMethods } from '@/types'\nimport { getCurrentRoute, getNavigateBackTargetUrl } from './utils'\nimport { ELinstenerTypes } from './constant'\nimport { MiniRoute } from './types'\n\nfunction isFilterHttpUrl(url: string) {\n  return sdkOptions.filterXhrUrlRegExp && sdkOptions.filterXhrUrlRegExp.test(url)\n}\n\nfunction replace(type: WxEvents | EVENTTYPES) {\n  switch (type) {\n    case EVENTTYPES.CONSOLE:\n      replaceConsole()\n      break\n    case EVENTTYPES.XHR:\n      replaceNetwork()\n      break\n    case EVENTTYPES.MINI_ROUTE:\n      replaceRoute()\n    default:\n      break\n  }\n}\n\nexport function addReplaceHandler(handler: ReplaceHandler) {\n  subscribeEvent(handler)\n  replace(handler.type as WxEvents)\n}\n\nexport function replaceApp() {\n  if (App) {\n    const originApp = App\n    App = function (appOptions: WechatMiniprogram.App.Option) {\n      const methods = [\n        WxAppEvents.AppOnLaunch,\n        WxAppEvents.AppOnShow,\n        WxAppEvents.AppOnError,\n        WxAppEvents.AppOnUnhandledRejection,\n        WxAppEvents.AppOnPageNotFound,\n        WxAppEvents.AppOnHide\n      ]\n      methods.forEach((method) => {\n        if (getFlag(method)) return\n        addReplaceHandler({\n          callback: (data) => HandleWxAppEvents[method.replace('AppOn', 'on')](data),\n          type: method\n        })\n        replaceOld(\n          appOptions,\n          method.replace('AppOn', 'on'),\n          function (originMethod: (args: any) => void) {\n            return function (...args: any): void {\n              triggerHandlers.apply(null, [method, ...args])\n              if (originMethod) {\n                originMethod.apply(this, args)\n              }\n            }\n          },\n          true\n        )\n      })\n      return originApp(appOptions)\n    } as WechatMiniprogram.App.Constructor\n  }\n}\n\nexport function replacePage() {\n  if (!Page) {\n    return\n  }\n  const originPage = Page\n  Page = function (pageOptions): WechatMiniprogram.Page.Constructor {\n    const methods = [\n      WxPageEvents.PageOnShow,\n      WxPageEvents.PageOnHide,\n      WxPageEvents.PageOnShareAppMessage,\n      WxPageEvents.PageOnShareTimeline,\n      WxPageEvents.PageOnTabItemTap\n    ]\n    methods.forEach((method) => {\n      if (getFlag(method)) return\n      addReplaceHandler({\n        callback: (data) => HandleWxPageEvents[method.replace('PageOn', 'on')](data),\n        type: method\n      })\n      replaceOld(\n        pageOptions,\n        method.replace('PageOn', 'on'),\n        function (originMethod: (args: any) => void) {\n          return function (...args: any[]): void {\n            triggerHandlers.apply(null, [method, ...args])\n            if (originMethod) {\n              originMethod.apply(this, args)\n            }\n          }\n        },\n        true\n      )\n    })\n    function isNotAction(method) {\n      // 如果是method中处理过的方法，则不是处理用户手势行为的方法\n      return methods.find((m) => m.replace('PageOn', 'on') === method)\n    }\n    addReplaceHandler({\n      callback: (data) => HandleWxPageEvents.onAction(data),\n      type: EVENTTYPES.DOM\n    })\n    function gestureTrigger(e) {\n      e.mitoProcessed = true // 给事件对象增加特殊的标记，避免被无限透传\n      triggerHandlers(EVENTTYPES.DOM, e)\n    }\n    const throttleGesturetrigger = throttle(gestureTrigger, 500)\n    const linstenerTypes = [ELinstenerTypes.Touchmove, ELinstenerTypes.Tap]\n    Object.keys(pageOptions).forEach((m) => {\n      if ('function' !== typeof pageOptions[m] || isNotAction(m)) {\n        return\n      }\n      replaceOld(\n        pageOptions,\n        m,\n        function (originMethod: (args: any) => void) {\n          return function (...args: any): void {\n            const e = args[0]\n            if (e && e.type && e.currentTarget && !e.mitoProcessed) {\n              if (linstenerTypes.indexOf(e.type)) {\n                throttleGesturetrigger(e)\n              }\n            }\n            originMethod.apply(this, args)\n          }\n        },\n        true\n      )\n    })\n    return originPage.call(this, pageOptions)\n  }\n}\n\nfunction replaceConsole() {\n  if (console && variableTypeDetection.isObject(console)) {\n    const logType = ['log', 'debug', 'info', 'warn', 'error', 'assert']\n    logType.forEach(function (level: string): void {\n      if (!(level in console)) return\n      replaceOld(console, level, function (originalConsole): Function {\n        return function (...args: any[]): void {\n          if (originalConsole) {\n            triggerHandlers(EVENTTYPES.CONSOLE, { args, level })\n            originalConsole.apply(console, args)\n          }\n        }\n      })\n    })\n  }\n}\n\n// wx.request\nexport function replaceRequest() {\n  const originRequest = wx.request\n  Object.defineProperty(wx, 'request', {\n    writable: true,\n    enumerable: true,\n    configurable: true,\n    value: function (...args: any[]) {\n      const options: WechatMiniprogram.RequestOption = args[0]\n      const { url, method, header } = options\n      if ((options.method === EMethods.Post && transportData.isSdkTransportUrl(url)) || isFilterHttpUrl(url)) {\n        return originRequest.call(this, options)\n      }\n      const data: MITOHttp = {\n        type: HTTPTYPE.XHR,\n        method: options.method,\n        url,\n        reqData: options.data,\n        sTime: getTimestamp()\n      }\n      setTraceId(url, (headerFieldName, traceId) => {\n        data.traceId = traceId\n        header[headerFieldName] = traceId\n      })\n      function setRequestHeader(key: string, value: string) {\n        header[key] = value\n      }\n      sdkOptions.beforeAppAjaxSend && sdkOptions.beforeAppAjaxSend({ method, url }, { setRequestHeader })\n\n      const successHandler: WechatMiniprogram.RequestSuccessCallback = function (res) {\n        const endTime = getTimestamp()\n        data.responseText = (variableTypeDetection.isString(res.data) || variableTypeDetection.isObject(res.data)) && res.data\n        data.elapsedTime = endTime - data.sTime\n        data.status = res.statusCode\n        data.errMsg = res.errMsg\n        if (typeof options.success === 'function') {\n          return options.success(res)\n        }\n        triggerHandlers(EVENTTYPES.XHR, data)\n      }\n      const failHandler: WechatMiniprogram.RequestFailCallback = function (err) {\n        // 系统和网络层面的失败\n        const endTime = getTimestamp()\n        data.elapsedTime = endTime - data.sTime\n        data.errMsg = err.errMsg\n\n        triggerHandlers(EVENTTYPES.XHR, data)\n        if (typeof options.fail === 'function') {\n          return options.fail(err)\n        }\n      }\n      const actOptions = {\n        ...options,\n        success: successHandler,\n        fail: failHandler\n      }\n\n      return originRequest.call(this, actOptions)\n    }\n  })\n}\n\n// wx network\nexport function replaceNetwork() {\n  const hookMethods = ['request', 'downloadFile', 'uploadFile']\n  hookMethods.forEach((hook) => {\n    const originRequest = wx[hook]\n    Object.defineProperty(wx, hook, {\n      writable: true,\n      enumerable: true,\n      configurable: true,\n      value: function (...args: any[]) {\n        const options: WechatMiniprogram.RequestOption | WechatMiniprogram.DownloadFileOption | WechatMiniprogram.UploadFileOption = args[0]\n        let method: string\n        if ((options as WechatMiniprogram.RequestOption).method) {\n          method = (options as WechatMiniprogram.RequestOption).method\n        } else if (hook === 'downloadFile') {\n          method = EMethods.Get\n        } else {\n          method = EMethods.Post\n        }\n        const { url, header } = options\n        if ((method === EMethods.Post && transportData.isSdkTransportUrl(url)) || isFilterHttpUrl(url)) {\n          return originRequest.call(this, options)\n        }\n        let reqData\n        if (hook === 'request') {\n          reqData = (options as WechatMiniprogram.RequestOption).data\n        } else if (hook === 'downloadFile') {\n          reqData = {\n            filePath: (options as WechatMiniprogram.DownloadFileOption).filePath\n          }\n        } else {\n          // uploadFile\n          reqData = {\n            filePath: (options as WechatMiniprogram.UploadFileOption).filePath,\n            name: (options as WechatMiniprogram.UploadFileOption).name\n          }\n        }\n        const data: MITOHttp = {\n          type: HTTPTYPE.XHR,\n          method,\n          url,\n          reqData,\n          sTime: getTimestamp()\n        }\n        setTraceId(url, (headerFieldName, traceId) => {\n          data.traceId = traceId\n          header[headerFieldName] = traceId\n        })\n        function setRequestHeader(key: string, value: string) {\n          header[key] = value\n        }\n        sdkOptions.beforeAppAjaxSend && sdkOptions.beforeAppAjaxSend({ method, url }, { setRequestHeader })\n\n        const successHandler:\n          | WechatMiniprogram.RequestSuccessCallback\n          | WechatMiniprogram.DownloadFileSuccessCallback\n          | WechatMiniprogram.UploadFileFailCallback = function (res) {\n          const endTime = getTimestamp()\n          data.responseText = (variableTypeDetection.isString(res.data) || variableTypeDetection.isObject(res.data)) && res.data\n          data.elapsedTime = endTime - data.sTime\n          data.status = res.statusCode\n          data.errMsg = res.errMsg\n\n          triggerHandlers(EVENTTYPES.XHR, data)\n          if (typeof options.success === 'function') {\n            return options.success(res)\n          }\n        }\n        const failHandler:\n          | WechatMiniprogram.RequestFailCallback\n          | WechatMiniprogram.DownloadFileFailCallback\n          | WechatMiniprogram.UploadFileFailCallback = function (err) {\n          // 系统和网络层面的失败\n          const endTime = getTimestamp()\n          data.elapsedTime = endTime - data.sTime\n          data.errMsg = err.errMsg\n\n          triggerHandlers(EVENTTYPES.XHR, data)\n          if (typeof options.fail === 'function') {\n            return options.fail(err)\n          }\n        }\n        const actOptions = {\n          ...options,\n          success: successHandler,\n          fail: failHandler\n        }\n\n        return originRequest.call(this, actOptions)\n      }\n    })\n  })\n}\n\n// wx Route\nexport function replaceRoute() {\n  const methods = [WxRouteEvents.SwitchTab, WxRouteEvents.ReLaunch, WxRouteEvents.RedirectTo, WxRouteEvents.NavigateTo, WxRouteEvents.NavigateBack]\n  methods.forEach((method) => {\n    const originMethod = wx[method] as Function\n    Object.defineProperty(wx, method, {\n      writable: true,\n      enumerable: true,\n      configurable: true,\n      value: function (\n        options:\n          | WechatMiniprogram.SwitchTabOption\n          | WechatMiniprogram.ReLaunchOption\n          | WechatMiniprogram.RedirectToOption\n          | WechatMiniprogram.NavigateToOption\n          | WechatMiniprogram.NavigateBackOption\n      ) {\n        let toUrl\n        if (method === WxRouteEvents.NavigateBack) {\n          toUrl = getNavigateBackTargetUrl((options as WechatMiniprogram.NavigateBackOption).delta)\n        } else {\n          toUrl = (options as WechatMiniprogram.SwitchTabOption).url\n        }\n        const data = {\n          from: getCurrentRoute(),\n          to: toUrl\n        }\n        // debugger\n        triggerHandlers(EVENTTYPES.MINI_ROUTE, data)\n        // 如果complete||success||fail一个都没有，则原方法返回promise，此时sdk也不需要处理\n        if (\n          variableTypeDetection.isFunction(options.complete) ||\n          variableTypeDetection.isFunction(options.success) ||\n          variableTypeDetection.isFunction(options.fail)\n        ) {\n          const failHandler:\n            | WechatMiniprogram.SwitchTabFailCallback\n            | WechatMiniprogram.ReLaunchFailCallback\n            | WechatMiniprogram.RedirectToFailCallback\n            | WechatMiniprogram.NavigateToFailCallback\n            | WechatMiniprogram.NavigateBackFailCallback = function (res) {\n            const failData: MiniRoute = {\n              ...data,\n              isFail: true,\n              message: res.errMsg\n            }\n            triggerHandlers(EVENTTYPES.MINI_ROUTE, failData)\n            if (variableTypeDetection.isFunction(options.fail)) {\n              return options.fail(res)\n            }\n          }\n          options.fail = failHandler\n        }\n        return originMethod.call(this, options)\n      }\n    })\n  })\n}\n","import { EVENTTYPES } from '@/common/constant'\nimport { HandleWxConsoleEvents, HandleNetworkEvents, HandleWxEvents } from './handleWxEvents'\nimport { addReplaceHandler, replaceApp, replacePage } from './replace'\n\nexport function setupReplace() {\n  replaceApp()\n  replacePage()\n  addReplaceHandler({\n    callback: (data) => HandleWxEvents.handleRoute(data),\n    type: EVENTTYPES.MINI_ROUTE\n  })\n  addReplaceHandler({\n    callback: (data) => {\n      HandleNetworkEvents.handleRequest(data)\n    },\n    type: EVENTTYPES.XHR\n  })\n  addReplaceHandler({\n    callback: (data) => {\n      HandleWxConsoleEvents.console(data)\n    },\n    type: EVENTTYPES.CONSOLE\n  })\n}\n","import initOptions from '../common/initOpitons'\nimport { InitOptions } from '../types/options'\nimport { isWxMiniEnv } from '../utils'\nimport { setupReplace } from './load'\nimport { log } from '../core/index'\nexport function init(options: InitOptions = {}) {\n  if (!isWxMiniEnv) return\n  initOptions(options)\n  setupReplace()\n  Object.assign(wx, { mitoLog: log })\n}\n","import { MitoVue } from './Vue/index'\nimport { setupReplace } from './browser/load'\nimport { log } from './core/index'\nimport { isBrowserEnv, isWxMiniEnv, _global } from './utils/index'\nimport { SDK_VERSION, SDK_NAME } from './common/config'\nimport { InitOptions } from './types/index'\nimport { errorBoundaryReport } from './React/index'\nimport initOptions from './common/initOpitons'\nimport { init as wxInit } from './wx-mini/index'\nfunction webInit(options: InitOptions = {}): void {\n  if (!('XMLHttpRequest' in _global) || options.disabled) return\n  initOptions(options)\n  setupReplace()\n}\n\nfunction init(options: InitOptions = {}): void {\n  if (isBrowserEnv) {\n    webInit(options)\n  } else if (isWxMiniEnv) {\n    wxInit(options)\n  }\n}\n\nexport default { MitoVue, SDK_VERSION, SDK_NAME, init, log, errorBoundaryReport }\n"],"names":["options","coreOptions","isFilterHttpUrl","sdkOptions","replace","addReplaceHandler","setupReplace","init","wxInit"],"mappings":"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"}